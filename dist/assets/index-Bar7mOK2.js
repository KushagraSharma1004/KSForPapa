(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Fy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Oc={exports:{}},zo={},Fc={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function Uy(){if(rp)return Ce;rp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),V=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,J={};function H(D,b,le){this.props=D,this.context=b,this.refs=J,this.updater=le||j}H.prototype.isReactComponent={},H.prototype.setState=function(D,b){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,b,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Te(){}Te.prototype=H.prototype;function Ie(D,b,le){this.props=D,this.context=b,this.refs=J,this.updater=le||j}var ye=Ie.prototype=new Te;ye.constructor=Ie,G(ye,H.prototype),ye.isPureReactComponent=!0;var Se=Array.isArray,Ye=Object.prototype.hasOwnProperty,ke={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(D,b,le){var Ae,Re={},De=null,Ue=null;if(b!=null)for(Ae in b.ref!==void 0&&(Ue=b.ref),b.key!==void 0&&(De=""+b.key),b)Ye.call(b,Ae)&&!k.hasOwnProperty(Ae)&&(Re[Ae]=b[Ae]);var ze=arguments.length-2;if(ze===1)Re.children=le;else if(1<ze){for(var $e=Array(ze),gt=0;gt<ze;gt++)$e[gt]=arguments[gt+2];Re.children=$e}if(D&&D.defaultProps)for(Ae in ze=D.defaultProps,ze)Re[Ae]===void 0&&(Re[Ae]=ze[Ae]);return{$$typeof:i,type:D,key:De,ref:Ue,props:Re,_owner:ke.current}}function A(D,b){return{$$typeof:i,type:D.type,key:b,ref:D.ref,props:D.props,_owner:D._owner}}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function x(D){var b={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return b[le]})}var N=/\/+/g;function S(D,b){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):b.toString(36)}function se(D,b,le,Ae,Re){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ue=!1;if(D===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(D.$$typeof){case i:case e:Ue=!0}}if(Ue)return Ue=D,Re=Re(Ue),D=Ae===""?"."+S(Ue,0):Ae,Se(Re)?(le="",D!=null&&(le=D.replace(N,"$&/")+"/"),se(Re,b,le,"",function(gt){return gt})):Re!=null&&(C(Re)&&(Re=A(Re,le+(!Re.key||Ue&&Ue.key===Re.key?"":(""+Re.key).replace(N,"$&/")+"/")+D)),b.push(Re)),1;if(Ue=0,Ae=Ae===""?".":Ae+":",Se(D))for(var ze=0;ze<D.length;ze++){De=D[ze];var $e=Ae+S(De,ze);Ue+=se(De,b,le,$e,Re)}else if($e=F(D),typeof $e=="function")for(D=$e.call(D),ze=0;!(De=D.next()).done;)De=De.value,$e=Ae+S(De,ze++),Ue+=se(De,b,le,$e,Re);else if(De==="object")throw b=String(D),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Ue}function _e(D,b,le){if(D==null)return D;var Ae=[],Re=0;return se(D,Ae,"","",function(De){return b.call(le,De,Re++)}),Ae}function pe(D){if(D._status===-1){var b=D._result;b=b(),b.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=b)}if(D._status===1)return D._result.default;throw D._result}var we={current:null},X={transition:null},ue={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:X,ReactCurrentOwner:ke};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:_e,forEach:function(D,b,le){_e(D,function(){b.apply(this,arguments)},le)},count:function(D){var b=0;return _e(D,function(){b++}),b},toArray:function(D){return _e(D,function(b){return b})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ce.Component=H,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=Ie,Ce.StrictMode=s,Ce.Suspense=_,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ce.act=Z,Ce.cloneElement=function(D,b,le){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ae=G({},D.props),Re=D.key,De=D.ref,Ue=D._owner;if(b!=null){if(b.ref!==void 0&&(De=b.ref,Ue=ke.current),b.key!==void 0&&(Re=""+b.key),D.type&&D.type.defaultProps)var ze=D.type.defaultProps;for($e in b)Ye.call(b,$e)&&!k.hasOwnProperty($e)&&(Ae[$e]=b[$e]===void 0&&ze!==void 0?ze[$e]:b[$e])}var $e=arguments.length-2;if($e===1)Ae.children=le;else if(1<$e){ze=Array($e);for(var gt=0;gt<$e;gt++)ze[gt]=arguments[gt+2];Ae.children=ze}return{$$typeof:i,type:D.type,key:Re,ref:De,props:Ae,_owner:Ue}},Ce.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Ce.createElement=T,Ce.createFactory=function(D){var b=T.bind(null,D);return b.type=D,b},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:m,render:D}},Ce.isValidElement=C,Ce.lazy=function(D){return{$$typeof:I,_payload:{_status:-1,_result:D},_init:pe}},Ce.memo=function(D,b){return{$$typeof:E,type:D,compare:b===void 0?null:b}},Ce.startTransition=function(D){var b=X.transition;X.transition={};try{D()}finally{X.transition=b}},Ce.unstable_act=Z,Ce.useCallback=function(D,b){return we.current.useCallback(D,b)},Ce.useContext=function(D){return we.current.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D){return we.current.useDeferredValue(D)},Ce.useEffect=function(D,b){return we.current.useEffect(D,b)},Ce.useId=function(){return we.current.useId()},Ce.useImperativeHandle=function(D,b,le){return we.current.useImperativeHandle(D,b,le)},Ce.useInsertionEffect=function(D,b){return we.current.useInsertionEffect(D,b)},Ce.useLayoutEffect=function(D,b){return we.current.useLayoutEffect(D,b)},Ce.useMemo=function(D,b){return we.current.useMemo(D,b)},Ce.useReducer=function(D,b,le){return we.current.useReducer(D,b,le)},Ce.useRef=function(D){return we.current.useRef(D)},Ce.useState=function(D){return we.current.useState(D)},Ce.useSyncExternalStore=function(D,b,le){return we.current.useSyncExternalStore(D,b,le)},Ce.useTransition=function(){return we.current.useTransition()},Ce.version="18.3.1",Ce}var ip;function _h(){return ip||(ip=1,Fc.exports=Uy()),Fc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function zy(){if(sp)return zo;sp=1;var i=_h(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,_,E){var I,V={},F=null,j=null;E!==void 0&&(F=""+E),_.key!==void 0&&(F=""+_.key),_.ref!==void 0&&(j=_.ref);for(I in _)s.call(_,I)&&!c.hasOwnProperty(I)&&(V[I]=_[I]);if(m&&m.defaultProps)for(I in _=m.defaultProps,_)V[I]===void 0&&(V[I]=_[I]);return{$$typeof:e,type:m,key:F,ref:j,props:V,_owner:a.current}}return zo.Fragment=n,zo.jsx=d,zo.jsxs=d,zo}var op;function jy(){return op||(op=1,Oc.exports=zy()),Oc.exports}var ae=jy(),mn=_h();const By=Fy(mn);var wl={},Uc={exports:{}},Qt={},zc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function by(){return ap||(ap=1,function(i){function e(X,ue){var Z=X.length;X.push(ue);e:for(;0<Z;){var D=Z-1>>>1,b=X[D];if(0<a(b,ue))X[D]=ue,X[Z]=b,Z=D;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ue=X[0],Z=X.pop();if(Z!==ue){X[0]=Z;e:for(var D=0,b=X.length,le=b>>>1;D<le;){var Ae=2*(D+1)-1,Re=X[Ae],De=Ae+1,Ue=X[De];if(0>a(Re,Z))De<b&&0>a(Ue,Re)?(X[D]=Ue,X[De]=Z,D=De):(X[D]=Re,X[Ae]=Z,D=Ae);else if(De<b&&0>a(Ue,Z))X[D]=Ue,X[De]=Z,D=De;else break e}}return ue}function a(X,ue){var Z=X.sortIndex-ue.sortIndex;return Z!==0?Z:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var _=[],E=[],I=1,V=null,F=3,j=!1,G=!1,J=!1,H=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(X){for(var ue=n(E);ue!==null;){if(ue.callback===null)s(E);else if(ue.startTime<=X)s(E),ue.sortIndex=ue.expirationTime,e(_,ue);else break;ue=n(E)}}function Se(X){if(J=!1,ye(X),!G)if(n(_)!==null)G=!0,pe(Ye);else{var ue=n(E);ue!==null&&we(Se,ue.startTime-X)}}function Ye(X,ue){G=!1,J&&(J=!1,Te(T),T=-1),j=!0;var Z=F;try{for(ye(ue),V=n(_);V!==null&&(!(V.expirationTime>ue)||X&&!x());){var D=V.callback;if(typeof D=="function"){V.callback=null,F=V.priorityLevel;var b=D(V.expirationTime<=ue);ue=i.unstable_now(),typeof b=="function"?V.callback=b:V===n(_)&&s(_),ye(ue)}else s(_);V=n(_)}if(V!==null)var le=!0;else{var Ae=n(E);Ae!==null&&we(Se,Ae.startTime-ue),le=!1}return le}finally{V=null,F=Z,j=!1}}var ke=!1,k=null,T=-1,A=5,C=-1;function x(){return!(i.unstable_now()-C<A)}function N(){if(k!==null){var X=i.unstable_now();C=X;var ue=!0;try{ue=k(!0,X)}finally{ue?S():(ke=!1,k=null)}}else ke=!1}var S;if(typeof Ie=="function")S=function(){Ie(N)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,_e=se.port2;se.port1.onmessage=N,S=function(){_e.postMessage(null)}}else S=function(){H(N,0)};function pe(X){k=X,ke||(ke=!0,S())}function we(X,ue){T=H(function(){X(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_continueExecution=function(){G||j||(G=!0,pe(Ye))},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return F},i.unstable_getFirstCallbackNode=function(){return n(_)},i.unstable_next=function(X){switch(F){case 1:case 2:case 3:var ue=3;break;default:ue=F}var Z=F;F=ue;try{return X()}finally{F=Z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Z=F;F=X;try{return ue()}finally{F=Z}},i.unstable_scheduleCallback=function(X,ue,Z){var D=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?D+Z:D):Z=D,X){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=Z+b,X={id:I++,callback:ue,priorityLevel:X,startTime:Z,expirationTime:b,sortIndex:-1},Z>D?(X.sortIndex=Z,e(E,X),n(_)===null&&X===n(E)&&(J?(Te(T),T=-1):J=!0,we(Se,Z-D))):(X.sortIndex=b,e(_,X),G||j||(G=!0,pe(Ye))),X},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(X){var ue=F;return function(){var Z=F;F=ue;try{return X.apply(this,arguments)}finally{F=Z}}}}(jc)),jc}var lp;function $y(){return lp||(lp=1,zc.exports=by()),zc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function qy(){if(up)return Qt;up=1;var i=_h(),e=$y();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},V={};function F(t){return _.call(V,t)?!0:_.call(I,t)?!1:E.test(t)?V[t]=!0:(I[t]=!0,!1)}function j(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G(t,r,o,u){if(r===null||typeof r>"u"||j(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function J(t,r,o,u,h,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){H[t]=new J(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];H[r]=new J(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){H[t]=new J(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){H[t]=new J(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){H[t]=new J(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){H[t]=new J(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){H[t]=new J(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){H[t]=new J(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){H[t]=new J(t,5,!1,t.toLowerCase(),null,!1,!1)});var Te=/[\-:]([a-z])/g;function Ie(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Te,Ie);H[r]=new J(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Te,Ie);H[r]=new J(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Te,Ie);H[r]=new J(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){H[t]=new J(t,1,!1,t.toLowerCase(),null,!1,!1)}),H.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){H[t]=new J(t,1,!1,t.toLowerCase(),null,!0,!0)});function ye(t,r,o,u){var h=H.hasOwnProperty(r)?H[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(G(r,o,h,u)&&(o=null),u||h===null?F(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ye=Symbol.for("react.element"),ke=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),X=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,D;function b(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var le=!1;function Ae(t,r){if(!t||le)return"";le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,w=p.length-1;1<=y&&0<=w&&h[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==p[w]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=w);break}}}finally{le=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function Re(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=Ae(t.type,!1),t;case 11:return t=Ae(t.type.render,!1),t;case 1:return t=Ae(t.type,!0),t;default:return""}}function De(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case ke:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case se:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case N:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _e:return r=t.displayName||null,r!==null?r:De(t.type)||"Memo";case pe:r=t._payload,t=t._init;try{return De(t(r))}catch{}}return null}function Ue(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ze(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $e(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=$e(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Kn(t){t._valueTracker||(t._valueTracker=gt(t))}function Li(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=$e(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zr(t,r){var o=r.checked;return Z({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Mi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=ze(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function qs(t,r){r=r.checked,r!=null&&ye(t,"checked",r,!1)}function Hs(t,r){qs(t,r);var o=ze(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Oi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Oi(t,r.type,ze(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function oa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Oi(t,r,o){(r!=="number"||mr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Xn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+ze(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ws(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:ze(o)}}function Ui(t,r){var o=ze(r.value),u=ze(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Qs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yn,Ks=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Yn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){ti.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ei[r]=ei[t]})});function Gs(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ei.hasOwnProperty(t)&&ei[t]?(""+r).trim():r+"px"}function Xs(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Gs(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Ys=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(t,r){if(r){if(Ys[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Zs(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function zi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,sn=null,Nn=null;function Bi(t){if(t=So(t)){if(typeof ji!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Oa(r),ji(t.stateNode,t.type,r))}}function Ln(t){sn?Nn?Nn.push(t):Nn=[t]:sn=t}function eo(){if(sn){var t=sn,r=Nn;if(Nn=sn=null,Bi(t),r)for(t=0;t<r.length;t++)Bi(r[t])}}function ri(t,r){return t(r)}function to(){}var Jn=!1;function no(t,r,o){if(Jn)return t(r,o);Jn=!0;try{return ri(t,r,o)}finally{Jn=!1,(sn!==null||Nn!==null)&&(to(),eo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=Oa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var bi=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){bi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{bi=!1}function ii(t,r,o,u,h,p,y,w,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(q){this.onError(q)}}var si=!1,$i=null,_n=!1,ro=null,cu={onError:function(t){si=!0,$i=t}};function qi(t,r,o,u,h,p,y,w,R){si=!1,$i=null,ii.apply(cu,arguments)}function aa(t,r,o,u,h,p,y,w,R){if(qi.apply(this,arguments),si){if(si){var U=$i;si=!1,$i=null}else throw Error(n(198));_n||(_n=!0,ro=U)}}function vn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function oi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(vn(t)!==t)throw Error(n(188))}function la(t){var r=t.alternate;if(!r){if(r=vn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return En(h),t;if(p===u)return En(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var y=!1,w=h.child;w;){if(w===o){y=!0,o=h,u=p;break}if(w===u){y=!0,u=h,o=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===o){y=!0,o=p,u=h;break}if(w===u){y=!0,u=p,o=h;break}w=w.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function io(t){return t=la(t),t!==null?Hi(t):null}function Hi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Hi(t);if(r!==null)return r;t=t.sibling}return null}var Wi=e.unstable_scheduleCallback,so=e.unstable_cancelCallback,ua=e.unstable_shouldYield,hu=e.unstable_requestPaint,qe=e.unstable_now,ca=e.unstable_getCurrentPriorityLevel,ai=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,oo=e.unstable_LowPriority,ha=e.unstable_IdlePriority,li=null,Xt=null;function da(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(li,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:pa,ao=Math.log,fa=Math.LN2;function pa(t){return t>>>=0,t===0?32:31-(ao(t)/fa|0)|0}var Qi=64,Ki=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ui(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var w=y&~h;w!==0?u=_r(w):(p&=y,p!==0&&(u=_r(p)))}else y=o&~h,y!==0?u=_r(y):p!==0&&(u=_r(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ot(r),h=1<<o,u|=t[o],r&=~h;return u}function du(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Ot(p),w=1<<y,R=h[y];R===-1?(!(w&o)||w&u)&&(h[y]=du(w,r)):R<=r&&(t.expiredLanes|=w),p&=~w}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ci(){var t=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),t}function vr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Er(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ot(r),t[r]=o}function be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ot(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function wr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ot(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var xe=0;function Tr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ma,Gi,ga,ya,_a,lo=!1,Mn=[],Tt=null,wn=null,Tn=null,Ir=new Map,an=new Map,On=[],fu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function va(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function jt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=So(r),r!==null&&Gi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function pu(t,r,o,u,h){switch(r){case"focusin":return Tt=jt(Tt,t,r,o,u,h),!0;case"dragenter":return wn=jt(wn,t,r,o,u,h),!0;case"mouseover":return Tn=jt(Tn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,jt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,jt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Ea(t){var r=mi(t.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=oi(o),r!==null){t.blockedOn=r,_a(t.priority,function(){ga(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function er(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Xi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ni=u,o.target.dispatchEvent(u),ni=null}else return r=So(o),r!==null&&Gi(r),t.blockedOn=o,!1;r.shift()}return!0}function hi(t,r,o){er(t)&&o.delete(r)}function wa(){lo=!1,Tt!==null&&er(Tt)&&(Tt=null),wn!==null&&er(wn)&&(wn=null),Tn!==null&&er(Tn)&&(Tn=null),Ir.forEach(hi),an.forEach(hi)}function In(t,r){t.blockedOn===r&&(t.blockedOn=null,lo||(lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wa)))}function Sn(t){function r(h){return In(h,t)}if(0<Mn.length){In(Mn[0],t);for(var o=1;o<Mn.length;o++){var u=Mn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&In(Tt,t),wn!==null&&In(wn,t),Tn!==null&&In(Tn,t),Ir.forEach(r),an.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)Ea(o),o.blockedOn===null&&On.shift()}var tr=Se.ReactCurrentBatchConfig,Sr=!0;function Ke(t,r,o,u){var h=xe,p=tr.transition;tr.transition=null;try{xe=1,uo(t,r,o,u)}finally{xe=h,tr.transition=p}}function mu(t,r,o,u){var h=xe,p=tr.transition;tr.transition=null;try{xe=4,uo(t,r,o,u)}finally{xe=h,tr.transition=p}}function uo(t,r,o,u){if(Sr){var h=Xi(t,r,o,u);if(h===null)Ru(t,r,u,di,o),va(t,u);else if(pu(h,t,r,o,u))u.stopPropagation();else if(va(t,u),r&4&&-1<fu.indexOf(t)){for(;h!==null;){var p=So(h);if(p!==null&&ma(p),p=Xi(t,r,o,u),p===null&&Ru(t,r,u,di,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Ru(t,r,u,null,o)}}var di=null;function Xi(t,r,o,u){if(di=null,t=zi(u),t=mi(t),t!==null)if(r=vn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=oi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return di=t,null}function co(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ca()){case ai:return 1;case yr:return 4;case on:case oo:return 16;case ha:return 536870912;default:return 16}default:return 16}}var Jt=null,Yi=null,Bt=null;function ho(){if(Bt)return Bt;var t,r=Yi,o=r.length,u,h="value"in Jt?Jt.value:Jt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[p-u];u++);return Bt=h.slice(t,1<u?1-u:void 0)}function Ji(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function fo(){return!1}function It(t){function r(o,u,h,p,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:fo,this.isPropagationStopped=fo,this}return Z(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=It(An),Un=Z({},An,{view:0,detail:0}),gu=It(Un),es,nr,Ar,fi=Z({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(es=t.screenX-Ar.screenX,nr=t.screenY-Ar.screenY):nr=es=0,Ar=t),es)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),ts=It(fi),po=Z({},fi,{dataTransfer:0}),Ta=It(po),ns=Z({},Un,{relatedTarget:0}),rs=It(ns),Ia=Z({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=It(Ia),Sa=Z({},An,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aa=It(Sa),Ra=Z({},An,{data:0}),mo=It(Ra),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ca={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ca[t])?!!r[t]:!1}function zn(){return Pa}var l=Z({},Un,{key:function(t){if(t.key){var r=is[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?Ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=It(l),g=Z({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=It(g),L=Z({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),z=It(L),Y=Z({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=It(Y),ct=Z({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=It(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var Zt=m&&"TextEvent"in window&&!ln,pi=m&&(!st||ln&&8<ln&&11>=ln),ss=" ",Xh=!1;function Yh(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function Mg(t,r){switch(t){case"compositionend":return Jh(r);case"keypress":return r.which!==32?null:(Xh=!0,ss);case"textInput":return t=r.data,t===ss&&Xh?null:t;default:return null}}function Og(t,r){if(os)return t==="compositionend"||!st&&Yh(t,r)?(t=ho(),Bt=Yi=Jt=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return pi&&r.locale!=="ko"?null:r.data;default:return null}}var Fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Fg[t.type]:r==="textarea"}function ed(t,r,o,u){Ln(u),r=Na(r,"onChange"),0<r.length&&(o=new Zi("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var go=null,yo=null;function Ug(t){_d(t,0)}function ka(t){var r=hs(t);if(Li(r))return t}function zg(t,r){if(t==="change")return r}var td=!1;if(m){var yu;if(m){var _u="oninput"in document;if(!_u){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),_u=typeof nd.oninput=="function"}yu=_u}else yu=!1;td=yu&&(!document.documentMode||9<document.documentMode)}function rd(){go&&(go.detachEvent("onpropertychange",id),yo=go=null)}function id(t){if(t.propertyName==="value"&&ka(yo)){var r=[];ed(r,yo,t,zi(t)),no(Ug,r)}}function jg(t,r,o){t==="focusin"?(rd(),go=r,yo=o,go.attachEvent("onpropertychange",id)):t==="focusout"&&rd()}function Bg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ka(yo)}function bg(t,r){if(t==="click")return ka(r)}function $g(t,r){if(t==="input"||t==="change")return ka(r)}function qg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Rn=typeof Object.is=="function"?Object.is:qg;function _o(t,r){if(Rn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_.call(r,h)||!Rn(t[h],r[h]))return!1}return!0}function sd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function od(t,r){var o=sd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sd(o)}}function ad(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ad(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ld(){for(var t=window,r=mr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=mr(t.document)}return r}function vu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Hg(t){var r=ld(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&ad(o.ownerDocument.documentElement,o)){if(u!==null&&vu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=od(o,p);var y=od(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wg=m&&"documentMode"in document&&11>=document.documentMode,as=null,Eu=null,vo=null,wu=!1;function ud(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wu||as==null||as!==mr(u)||(u=as,"selectionStart"in u&&vu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vo&&_o(vo,u)||(vo=u,u=Na(Eu,"onSelect"),0<u.length&&(r=new Zi("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=as)))}function xa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ls={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},Tu={},cd={};m&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Va(t){if(Tu[t])return Tu[t];if(!ls[t])return t;var r=ls[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in cd)return Tu[t]=r[o];return t}var hd=Va("animationend"),dd=Va("animationiteration"),fd=Va("animationstart"),pd=Va("transitionend"),md=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,r){md.set(t,r),c(r,[t])}for(var Iu=0;Iu<gd.length;Iu++){var Su=gd[Iu],Qg=Su.toLowerCase(),Kg=Su[0].toUpperCase()+Su.slice(1);Rr(Qg,"on"+Kg)}Rr(hd,"onAnimationEnd"),Rr(dd,"onAnimationIteration"),Rr(fd,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(pd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function yd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,aa(u,r,void 0,t),t.currentTarget=null}function _d(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var w=u[y],R=w.instance,U=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;yd(h,w,U),p=R}else for(y=0;y<u.length;y++){if(w=u[y],R=w.instance,U=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;yd(h,w,U),p=R}}}if(_n)throw t=ro,_n=!1,ro=null,t}function We(t,r){var o=r[Du];o===void 0&&(o=r[Du]=new Set);var u=t+"__bubble";o.has(u)||(vd(r,t,2,!1),o.add(u))}function Au(t,r,o){var u=0;r&&(u|=4),vd(o,t,u,r)}var Da="_reactListening"+Math.random().toString(36).slice(2);function wo(t){if(!t[Da]){t[Da]=!0,s.forEach(function(o){o!=="selectionchange"&&(Gg.has(o)||Au(o,!1,t),Au(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Da]||(r[Da]=!0,Au("selectionchange",!1,r))}}function vd(t,r,o,u){switch(co(r)){case 1:var h=Ke;break;case 4:h=mu;break;default:h=uo}o=h.bind(null,r,o,t),h=void 0,!bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Ru(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;w!==null;){if(y=mi(w),y===null)return;if(R=y.tag,R===5||R===6){u=p=y;continue e}w=w.parentNode}}u=u.return}no(function(){var U=p,q=zi(o),Q=[];e:{var $=md.get(t);if($!==void 0){var ee=Zi,re=t;switch(t){case"keypress":if(Ji(o)===0)break e;case"keydown":case"keyup":ee=f;break;case"focusin":re="focus",ee=rs;break;case"focusout":re="blur",ee=rs;break;case"beforeblur":case"afterblur":ee=rs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=z;break;case hd:case dd:case fd:ee=rr;break;case pd:ee=Be;break;case"scroll":ee=gu;break;case"wheel":ee=Ne;break;case"copy":case"cut":case"paste":ee=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=v}var ie=(r&4)!==0,rt=!ie&&t==="scroll",M=ie?$!==null?$+"Capture":null:$;ie=[];for(var P=U,O;P!==null;){O=P;var K=O.stateNode;if(O.tag===5&&K!==null&&(O=K,M!==null&&(K=nt(P,M),K!=null&&ie.push(To(P,K,O)))),rt)break;P=P.return}0<ie.length&&($=new ee($,re,null,o,q),Q.push({event:$,listeners:ie}))}}if(!(r&7)){e:{if($=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",$&&o!==ni&&(re=o.relatedTarget||o.fromElement)&&(mi(re)||re[ir]))break e;if((ee||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,ee?(re=o.relatedTarget||o.toElement,ee=U,re=re?mi(re):null,re!==null&&(rt=vn(re),re!==rt||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=U),ee!==re)){if(ie=ts,K="onMouseLeave",M="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ie=v,K="onPointerLeave",M="onPointerEnter",P="pointer"),rt=ee==null?$:hs(ee),O=re==null?$:hs(re),$=new ie(K,P+"leave",ee,o,q),$.target=rt,$.relatedTarget=O,K=null,mi(q)===U&&(ie=new ie(M,P+"enter",re,o,q),ie.target=O,ie.relatedTarget=rt,K=ie),rt=K,ee&&re)t:{for(ie=ee,M=re,P=0,O=ie;O;O=us(O))P++;for(O=0,K=M;K;K=us(K))O++;for(;0<P-O;)ie=us(ie),P--;for(;0<O-P;)M=us(M),O--;for(;P--;){if(ie===M||M!==null&&ie===M.alternate)break t;ie=us(ie),M=us(M)}ie=null}else ie=null;ee!==null&&Ed(Q,$,ee,ie,!1),re!==null&&rt!==null&&Ed(Q,rt,re,ie,!0)}}e:{if($=U?hs(U):window,ee=$.nodeName&&$.nodeName.toLowerCase(),ee==="select"||ee==="input"&&$.type==="file")var oe=zg;else if(Zh($))if(td)oe=$g;else{oe=Bg;var he=jg}else(ee=$.nodeName)&&ee.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(oe=bg);if(oe&&(oe=oe(t,U))){ed(Q,oe,o,q);break e}he&&he(t,$,U),t==="focusout"&&(he=$._wrapperState)&&he.controlled&&$.type==="number"&&Oi($,"number",$.value)}switch(he=U?hs(U):window,t){case"focusin":(Zh(he)||he.contentEditable==="true")&&(as=he,Eu=U,vo=null);break;case"focusout":vo=Eu=as=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,ud(Q,o,q);break;case"selectionchange":if(Wg)break;case"keydown":case"keyup":ud(Q,o,q)}var de;if(st)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else os?Yh(t,o)&&(me="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(pi&&o.locale!=="ko"&&(os||me!=="onCompositionStart"?me==="onCompositionEnd"&&os&&(de=ho()):(Jt=q,Yi="value"in Jt?Jt.value:Jt.textContent,os=!0)),he=Na(U,me),0<he.length&&(me=new mo(me,t,null,o,q),Q.push({event:me,listeners:he}),de?me.data=de:(de=Jh(o),de!==null&&(me.data=de)))),(de=Zt?Mg(t,o):Og(t,o))&&(U=Na(U,"onBeforeInput"),0<U.length&&(q=new mo("onBeforeInput","beforeinput",null,o,q),Q.push({event:q,listeners:U}),q.data=de))}_d(Q,r)})}function To(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Na(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=nt(t,o),p!=null&&u.unshift(To(t,p,h)),p=nt(t,r),p!=null&&u.push(To(t,p,h))),t=t.return}return u}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ed(t,r,o,u,h){for(var p=r._reactName,y=[];o!==null&&o!==u;){var w=o,R=w.alternate,U=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&U!==null&&(w=U,h?(R=nt(o,p),R!=null&&y.unshift(To(o,R,w))):h||(R=nt(o,p),R!=null&&y.push(To(o,R,w)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var Xg=/\r\n?/g,Yg=/\u0000|\uFFFD/g;function wd(t){return(typeof t=="string"?t:""+t).replace(Xg,`
`).replace(Yg,"")}function La(t,r,o){if(r=wd(r),wd(t)!==r&&o)throw Error(n(425))}function Ma(){}var Cu=null,Pu=null;function ku(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,Jg=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,Zg=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(t){return Td.resolve(null).then(t).catch(ey)}:xu;function ey(t){setTimeout(function(){throw t})}function Vu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Sn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Sn(r)}function Cr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Id(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var cs=Math.random().toString(36).slice(2),jn="__reactFiber$"+cs,Io="__reactProps$"+cs,ir="__reactContainer$"+cs,Du="__reactEvents$"+cs,ty="__reactListeners$"+cs,ny="__reactHandles$"+cs;function mi(t){var r=t[jn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ir]||o[jn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Id(t);t!==null;){if(o=t[jn])return o;t=Id(t)}return r}t=o,o=t.parentNode}return null}function So(t){return t=t[jn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Oa(t){return t[Io]||null}var Nu=[],ds=-1;function Pr(t){return{current:t}}function Qe(t){0>ds||(t.current=Nu[ds],Nu[ds]=null,ds--)}function He(t,r){ds++,Nu[ds]=t.current,t.current=r}var kr={},kt=Pr(kr),bt=Pr(!1),gi=kr;function fs(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function $t(t){return t=t.childContextTypes,t!=null}function Fa(){Qe(bt),Qe(kt)}function Sd(t,r,o){if(kt.current!==kr)throw Error(n(168));He(kt,r),He(bt,o)}function Ad(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Ue(t)||"Unknown",h));return Z({},o,u)}function Ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,gi=kt.current,He(kt,t),He(bt,bt.current),!0}function Rd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Ad(t,r,gi),u.__reactInternalMemoizedMergedChildContext=t,Qe(bt),Qe(kt),He(kt,t)):Qe(bt),He(bt,o)}var sr=null,za=!1,Lu=!1;function Cd(t){sr===null?sr=[t]:sr.push(t)}function ry(t){za=!0,Cd(t)}function xr(){if(!Lu&&sr!==null){Lu=!0;var t=0,r=xe;try{var o=sr;for(xe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}sr=null,za=!1}catch(h){throw sr!==null&&(sr=sr.slice(t+1)),Wi(ai,xr),h}finally{xe=r,Lu=!1}}return null}var ps=[],ms=0,ja=null,Ba=0,un=[],cn=0,yi=null,or=1,ar="";function _i(t,r){ps[ms++]=Ba,ps[ms++]=ja,ja=t,Ba=r}function Pd(t,r,o){un[cn++]=or,un[cn++]=ar,un[cn++]=yi,yi=t;var u=or;t=ar;var h=32-Ot(u)-1;u&=~(1<<h),o+=1;var p=32-Ot(r)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,or=1<<32-Ot(r)+h|o<<h|u,ar=p+t}else or=1<<p|o<<h|u,ar=t}function Mu(t){t.return!==null&&(_i(t,1),Pd(t,1,0))}function Ou(t){for(;t===ja;)ja=ps[--ms],ps[ms]=null,Ba=ps[--ms],ps[ms]=null;for(;t===yi;)yi=un[--cn],un[cn]=null,ar=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null}var en=null,tn=null,Ge=!1,Cn=null;function kd(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function xd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,en=t,tn=Cr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,en=t,tn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=yi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,en=t,tn=null,!0):!1;default:return!1}}function Fu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uu(t){if(Ge){var r=tn;if(r){var o=r;if(!xd(t,r)){if(Fu(t))throw Error(n(418));r=Cr(o.nextSibling);var u=en;r&&xd(t,r)?kd(u,o):(t.flags=t.flags&-4097|2,Ge=!1,en=t)}}else{if(Fu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,en=t}}}function Vd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function ba(t){if(t!==en)return!1;if(!Ge)return Vd(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ku(t.type,t.memoizedProps)),r&&(r=tn)){if(Fu(t))throw Dd(),Error(n(418));for(;r;)kd(t,r),r=Cr(r.nextSibling)}if(Vd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){tn=Cr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}tn=null}}else tn=en?Cr(t.stateNode.nextSibling):null;return!0}function Dd(){for(var t=tn;t;)t=Cr(t.nextSibling)}function gs(){tn=en=null,Ge=!1}function zu(t){Cn===null?Cn=[t]:Cn.push(t)}var iy=Se.ReactCurrentBatchConfig;function Ao(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var w=h.refs;y===null?delete w[p]:w[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function $a(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Nd(t){var r=t._init;return r(t._payload)}function Ld(t){function r(M,P){if(t){var O=M.deletions;O===null?(M.deletions=[P],M.flags|=16):O.push(P)}}function o(M,P){if(!t)return null;for(;P!==null;)r(M,P),P=P.sibling;return null}function u(M,P){for(M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(M,P){return M=Ur(M,P),M.index=0,M.sibling=null,M}function p(M,P,O){return M.index=O,t?(O=M.alternate,O!==null?(O=O.index,O<P?(M.flags|=2,P):O):(M.flags|=2,P)):(M.flags|=1048576,P)}function y(M){return t&&M.alternate===null&&(M.flags|=2),M}function w(M,P,O,K){return P===null||P.tag!==6?(P=xc(O,M.mode,K),P.return=M,P):(P=h(P,O),P.return=M,P)}function R(M,P,O,K){var oe=O.type;return oe===k?q(M,P,O.props.children,K,O.key):P!==null&&(P.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Nd(oe)===P.type)?(K=h(P,O.props),K.ref=Ao(M,P,O),K.return=M,K):(K=fl(O.type,O.key,O.props,null,M.mode,K),K.ref=Ao(M,P,O),K.return=M,K)}function U(M,P,O,K){return P===null||P.tag!==4||P.stateNode.containerInfo!==O.containerInfo||P.stateNode.implementation!==O.implementation?(P=Vc(O,M.mode,K),P.return=M,P):(P=h(P,O.children||[]),P.return=M,P)}function q(M,P,O,K,oe){return P===null||P.tag!==7?(P=Ri(O,M.mode,K,oe),P.return=M,P):(P=h(P,O),P.return=M,P)}function Q(M,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return P=xc(""+P,M.mode,O),P.return=M,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ye:return O=fl(P.type,P.key,P.props,null,M.mode,O),O.ref=Ao(M,null,P),O.return=M,O;case ke:return P=Vc(P,M.mode,O),P.return=M,P;case pe:var K=P._init;return Q(M,K(P._payload),O)}if(Gn(P)||ue(P))return P=Ri(P,M.mode,O,null),P.return=M,P;$a(M,P)}return null}function $(M,P,O,K){var oe=P!==null?P.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return oe!==null?null:w(M,P,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ye:return O.key===oe?R(M,P,O,K):null;case ke:return O.key===oe?U(M,P,O,K):null;case pe:return oe=O._init,$(M,P,oe(O._payload),K)}if(Gn(O)||ue(O))return oe!==null?null:q(M,P,O,K,null);$a(M,O)}return null}function ee(M,P,O,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number")return M=M.get(O)||null,w(P,M,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Ye:return M=M.get(K.key===null?O:K.key)||null,R(P,M,K,oe);case ke:return M=M.get(K.key===null?O:K.key)||null,U(P,M,K,oe);case pe:var he=K._init;return ee(M,P,O,he(K._payload),oe)}if(Gn(K)||ue(K))return M=M.get(O)||null,q(P,M,K,oe,null);$a(P,K)}return null}function re(M,P,O,K){for(var oe=null,he=null,de=P,me=P=0,Et=null;de!==null&&me<O.length;me++){de.index>me?(Et=de,de=null):Et=de.sibling;var Fe=$(M,de,O[me],K);if(Fe===null){de===null&&(de=Et);break}t&&de&&Fe.alternate===null&&r(M,de),P=p(Fe,P,me),he===null?oe=Fe:he.sibling=Fe,he=Fe,de=Et}if(me===O.length)return o(M,de),Ge&&_i(M,me),oe;if(de===null){for(;me<O.length;me++)de=Q(M,O[me],K),de!==null&&(P=p(de,P,me),he===null?oe=de:he.sibling=de,he=de);return Ge&&_i(M,me),oe}for(de=u(M,de);me<O.length;me++)Et=ee(de,M,me,O[me],K),Et!==null&&(t&&Et.alternate!==null&&de.delete(Et.key===null?me:Et.key),P=p(Et,P,me),he===null?oe=Et:he.sibling=Et,he=Et);return t&&de.forEach(function(zr){return r(M,zr)}),Ge&&_i(M,me),oe}function ie(M,P,O,K){var oe=ue(O);if(typeof oe!="function")throw Error(n(150));if(O=oe.call(O),O==null)throw Error(n(151));for(var he=oe=null,de=P,me=P=0,Et=null,Fe=O.next();de!==null&&!Fe.done;me++,Fe=O.next()){de.index>me?(Et=de,de=null):Et=de.sibling;var zr=$(M,de,Fe.value,K);if(zr===null){de===null&&(de=Et);break}t&&de&&zr.alternate===null&&r(M,de),P=p(zr,P,me),he===null?oe=zr:he.sibling=zr,he=zr,de=Et}if(Fe.done)return o(M,de),Ge&&_i(M,me),oe;if(de===null){for(;!Fe.done;me++,Fe=O.next())Fe=Q(M,Fe.value,K),Fe!==null&&(P=p(Fe,P,me),he===null?oe=Fe:he.sibling=Fe,he=Fe);return Ge&&_i(M,me),oe}for(de=u(M,de);!Fe.done;me++,Fe=O.next())Fe=ee(de,M,me,Fe.value,K),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?me:Fe.key),P=p(Fe,P,me),he===null?oe=Fe:he.sibling=Fe,he=Fe);return t&&de.forEach(function(Oy){return r(M,Oy)}),Ge&&_i(M,me),oe}function rt(M,P,O,K){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Ye:e:{for(var oe=O.key,he=P;he!==null;){if(he.key===oe){if(oe=O.type,oe===k){if(he.tag===7){o(M,he.sibling),P=h(he,O.props.children),P.return=M,M=P;break e}}else if(he.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Nd(oe)===he.type){o(M,he.sibling),P=h(he,O.props),P.ref=Ao(M,he,O),P.return=M,M=P;break e}o(M,he);break}else r(M,he);he=he.sibling}O.type===k?(P=Ri(O.props.children,M.mode,K,O.key),P.return=M,M=P):(K=fl(O.type,O.key,O.props,null,M.mode,K),K.ref=Ao(M,P,O),K.return=M,M=K)}return y(M);case ke:e:{for(he=O.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===O.containerInfo&&P.stateNode.implementation===O.implementation){o(M,P.sibling),P=h(P,O.children||[]),P.return=M,M=P;break e}else{o(M,P);break}else r(M,P);P=P.sibling}P=Vc(O,M.mode,K),P.return=M,M=P}return y(M);case pe:return he=O._init,rt(M,P,he(O._payload),K)}if(Gn(O))return re(M,P,O,K);if(ue(O))return ie(M,P,O,K);$a(M,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,P!==null&&P.tag===6?(o(M,P.sibling),P=h(P,O),P.return=M,M=P):(o(M,P),P=xc(O,M.mode,K),P.return=M,M=P),y(M)):o(M,P)}return rt}var ys=Ld(!0),Md=Ld(!1),qa=Pr(null),Ha=null,_s=null,ju=null;function Bu(){ju=_s=Ha=null}function bu(t){var r=qa.current;Qe(qa),t._currentValue=r}function $u(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function vs(t,r){Ha=t,ju=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(ju!==t)if(t={context:t,memoizedValue:r,next:null},_s===null){if(Ha===null)throw Error(n(308));_s=t,Ha.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return r}var vi=null;function qu(t){vi===null?vi=[t]:vi.push(t)}function Od(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,qu(r)):(o.next=h.next,h.next=o),r.interleaved=o,lr(t,u)}function lr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Vr=!1;function Hu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Dr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Oe&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,lr(t,o)}return h=u.interleaved,h===null?(r.next=r,qu(u)):(r.next=h.next,h.next=r),u.interleaved=r,lr(t,o)}function Wa(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}function Ud(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Qa(t,r,o,u){var h=t.updateQueue;Vr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,U=R.next;R.next=null,y===null?p=U:y.next=U,y=R;var q=t.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==y&&(w===null?q.firstBaseUpdate=U:w.next=U,q.lastBaseUpdate=R))}if(p!==null){var Q=h.baseState;y=0,q=U=R=null,w=p;do{var $=w.lane,ee=w.eventTime;if((u&$)===$){q!==null&&(q=q.next={eventTime:ee,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch($=r,ee=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){Q=re.call(ee,Q,$);break e}Q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(ee,Q,$):re,$==null)break e;Q=Z({},Q,$);break e;case 2:Vr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else ee={eventTime:ee,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(U=q=ee,R=Q):q=q.next=ee,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(q===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=q,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ti|=y,t.lanes=y,t.memoizedState=Q}}function zd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Ro={},Bn=Pr(Ro),Co=Pr(Ro),Po=Pr(Ro);function Ei(t){if(t===Ro)throw Error(n(174));return t}function Wu(t,r){switch(He(Po,r),He(Co,t),He(Bn,Ro),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}Qe(Bn),He(Bn,r)}function Es(){Qe(Bn),Qe(Co),Qe(Po)}function jd(t){Ei(Po.current);var r=Ei(Bn.current),o=ut(r,t.type);r!==o&&(He(Co,t),He(Bn,o))}function Qu(t){Co.current===t&&(Qe(Bn),Qe(Co))}var Je=Pr(0);function Ka(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ku=[];function Gu(){for(var t=0;t<Ku.length;t++)Ku[t]._workInProgressVersionPrimary=null;Ku.length=0}var Ga=Se.ReactCurrentDispatcher,Xu=Se.ReactCurrentBatchConfig,wi=0,Ze=null,ht=null,_t=null,Xa=!1,ko=!1,xo=0,sy=0;function xt(){throw Error(n(321))}function Yu(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Rn(t[o],r[o]))return!1;return!0}function Ju(t,r,o,u,h,p){if(wi=p,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ga.current=t===null||t.memoizedState===null?uy:cy,t=o(u,h),ko){p=0;do{if(ko=!1,xo=0,25<=p)throw Error(n(301));p+=1,_t=ht=null,r.updateQueue=null,Ga.current=hy,t=o(u,h)}while(ko)}if(Ga.current=Za,r=ht!==null&&ht.next!==null,wi=0,_t=ht=Ze=null,Xa=!1,r)throw Error(n(300));return t}function Zu(){var t=xo!==0;return xo=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ze.memoizedState=_t=t:_t=_t.next=t,_t}function dn(){if(ht===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=_t===null?Ze.memoizedState:_t.next;if(r!==null)_t=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Ze.memoizedState=_t=t:_t=_t.next=t}return _t}function Vo(t,r){return typeof r=="function"?r(t):r}function ec(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=y=null,R=null,U=p;do{var q=U.lane;if((wi&q)===q)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var Q={lane:q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(w=R=Q,y=u):R=R.next=Q,Ze.lanes|=q,Ti|=q}U=U.next}while(U!==null&&U!==p);R===null?y=u:R.next=w,Rn(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ze.lanes|=p,Ti|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function tc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);Rn(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Bd(){}function bd(t,r){var o=Ze,u=dn(),h=r(),p=!Rn(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,nc(Hd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Do(9,qd.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));wi&30||$d(o,r,h)}return h}function $d(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function qd(t,r,o,u){r.value=o,r.getSnapshot=u,Wd(r)&&Qd(t)}function Hd(t,r,o){return o(function(){Wd(r)&&Qd(t)})}function Wd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Rn(t,o)}catch{return!0}}function Qd(t){var r=lr(t,1);r!==null&&Vn(r,t,1,-1)}function Kd(t){var r=bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},r.queue=t,t=t.dispatch=ly.bind(null,Ze,t),[r.memoizedState,t]}function Do(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Gd(){return dn().memoizedState}function Ya(t,r,o,u){var h=bn();Ze.flags|=t,h.memoizedState=Do(1|r,o,void 0,u===void 0?null:u)}function Ja(t,r,o,u){var h=dn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var y=ht.memoizedState;if(p=y.destroy,u!==null&&Yu(u,y.deps)){h.memoizedState=Do(r,o,p,u);return}}Ze.flags|=t,h.memoizedState=Do(1|r,o,p,u)}function Xd(t,r){return Ya(8390656,8,t,r)}function nc(t,r){return Ja(2048,8,t,r)}function Yd(t,r){return Ja(4,2,t,r)}function Jd(t,r){return Ja(4,4,t,r)}function Zd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ef(t,r,o){return o=o!=null?o.concat([t]):null,Ja(4,4,Zd.bind(null,r,t),o)}function rc(){}function tf(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Yu(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function nf(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Yu(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function rf(t,r,o){return wi&21?(Rn(o,r)||(o=ci(),Ze.lanes|=o,Ti|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function oy(t,r){var o=xe;xe=o!==0&&4>o?o:4,t(!0);var u=Xu.transition;Xu.transition={};try{t(!1),r()}finally{xe=o,Xu.transition=u}}function sf(){return dn().memoizedState}function ay(t,r,o){var u=Or(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},of(t))af(r,o);else if(o=Od(t,r,o,u),o!==null){var h=zt();Vn(o,t,u,h),lf(o,r,u)}}function ly(t,r,o){var u=Or(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(of(t))af(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,w=p(y,o);if(h.hasEagerState=!0,h.eagerState=w,Rn(w,y)){var R=r.interleaved;R===null?(h.next=h,qu(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=Od(t,r,h,u),o!==null&&(h=zt(),Vn(o,t,u,h),lf(o,r,u))}}function of(t){var r=t.alternate;return t===Ze||r!==null&&r===Ze}function af(t,r){ko=Xa=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function lf(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}var Za={readContext:hn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},uy={readContext:hn,useCallback:function(t,r){return bn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:Xd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Ya(4194308,4,Zd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Ya(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ya(4,2,t,r)},useMemo:function(t,r){var o=bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=ay.bind(null,Ze,t),[u.memoizedState,t]},useRef:function(t){var r=bn();return t={current:t},r.memoizedState=t},useState:Kd,useDebugValue:rc,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Kd(!1),r=t[0];return t=oy.bind(null,t[1]),bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ze,h=bn();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));wi&30||$d(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Xd(Hd.bind(null,u,p,t),[t]),u.flags|=2048,Do(9,qd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=bn(),r=vt.identifierPrefix;if(Ge){var o=ar,u=or;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=xo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=sy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},cy={readContext:hn,useCallback:tf,useContext:hn,useEffect:nc,useImperativeHandle:ef,useInsertionEffect:Yd,useLayoutEffect:Jd,useMemo:nf,useReducer:ec,useRef:Gd,useState:function(){return ec(Vo)},useDebugValue:rc,useDeferredValue:function(t){var r=dn();return rf(r,ht.memoizedState,t)},useTransition:function(){var t=ec(Vo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:Bd,useSyncExternalStore:bd,useId:sf,unstable_isNewReconciler:!1},hy={readContext:hn,useCallback:tf,useContext:hn,useEffect:nc,useImperativeHandle:ef,useInsertionEffect:Yd,useLayoutEffect:Jd,useMemo:nf,useReducer:tc,useRef:Gd,useState:function(){return tc(Vo)},useDebugValue:rc,useDeferredValue:function(t){var r=dn();return ht===null?r.memoizedState=t:rf(r,ht.memoizedState,t)},useTransition:function(){var t=tc(Vo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:Bd,useSyncExternalStore:bd,useId:sf,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=Z({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function ic(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:Z({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var el={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Or(t),p=ur(u,h);p.payload=r,o!=null&&(p.callback=o),r=Dr(t,p,h),r!==null&&(Vn(r,t,h,u),Wa(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Or(t),p=ur(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Dr(t,p,h),r!==null&&(Vn(r,t,h,u),Wa(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=Or(t),h=ur(o,u);h.tag=2,r!=null&&(h.callback=r),r=Dr(t,h,u),r!==null&&(Vn(r,t,u,o),Wa(r,t,u))}};function uf(t,r,o,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!_o(o,u)||!_o(h,p):!0}function cf(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=$t(r)?gi:kt.current,u=r.contextTypes,p=(u=u!=null)?fs(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=el,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function hf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&el.enqueueReplaceState(r,r.state,null)}function sc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Hu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=$t(r)?gi:kt.current,h.context=fs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ic(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&el.enqueueReplaceState(h,h.state,null),Qa(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ws(t,r){try{var o="",u=r;do o+=Re(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function oc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function ac(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var dy=typeof WeakMap=="function"?WeakMap:Map;function df(t,r,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){al||(al=!0,Tc=u),ac(t,r)},o}function ff(t,r,o){o=ur(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){ac(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){ac(t,r),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function pf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new dy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Ry.bind(null,t,r,o),r.then(t,t))}function mf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function gf(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ur(-1,1),r.tag=2,Dr(o,r,1))),o.lanes|=1),t)}var fy=Se.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?Md(r,null,o,u):ys(r,t.child,o,u)}function yf(t,r,o,u,h){o=o.render;var p=r.ref;return vs(r,h),u=Ju(t,r,o,u,p,h),o=Zu(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(Ge&&o&&Mu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function _f(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!kc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,vf(t,r,p,u,h)):(t=fl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:_o,o(y,u)&&t.ref===r.ref)return cr(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function vf(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(_o(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,cr(t,r,h)}return lc(t,r,o,u,h)}function Ef(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Is,nn),nn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Is,nn),nn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,He(Is,nn),nn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,He(Is,nn),nn|=u;return Ut(t,r,h,o),r.child}function wf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function lc(t,r,o,u,h){var p=$t(o)?gi:kt.current;return p=fs(r,p),vs(r,h),o=Ju(t,r,o,u,p,h),u=Zu(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(Ge&&u&&Mu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Tf(t,r,o,u,h){if($t(o)){var p=!0;Ua(r)}else p=!1;if(vs(r,h),r.stateNode===null)nl(t,r),cf(r,o,u),sc(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,w=r.memoizedProps;y.props=w;var R=y.context,U=o.contextType;typeof U=="object"&&U!==null?U=hn(U):(U=$t(o)?gi:kt.current,U=fs(r,U));var q=o.getDerivedStateFromProps,Q=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||R!==U)&&hf(r,y,u,U),Vr=!1;var $=r.memoizedState;y.state=$,Qa(r,u,y,h),R=r.memoizedState,w!==u||$!==R||bt.current||Vr?(typeof q=="function"&&(ic(r,o,q,u),R=r.memoizedState),(w=Vr||uf(r,o,w,u,$,R,U))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),y.props=u,y.state=R,y.context=U,u=w):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Fd(t,r),w=r.memoizedProps,U=r.type===r.elementType?w:Pn(r.type,w),y.props=U,Q=r.pendingProps,$=y.context,R=o.contextType,typeof R=="object"&&R!==null?R=hn(R):(R=$t(o)?gi:kt.current,R=fs(r,R));var ee=o.getDerivedStateFromProps;(q=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Q||$!==R)&&hf(r,y,u,R),Vr=!1,$=r.memoizedState,y.state=$,Qa(r,u,y,h);var re=r.memoizedState;w!==Q||$!==re||bt.current||Vr?(typeof ee=="function"&&(ic(r,o,ee,u),re=r.memoizedState),(U=Vr||uf(r,o,U,u,$,re,R)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,R)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),y.props=u,y.state=re,y.context=R,u=U):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),u=!1)}return uc(t,r,o,u,p,h)}function uc(t,r,o,u,h,p){wf(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&Rd(r,o,!1),cr(t,r,p);u=r.stateNode,fy.current=r;var w=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=ys(r,t.child,null,p),r.child=ys(r,null,w,p)):Ut(t,r,w,p),r.memoizedState=u.state,h&&Rd(r,o,!0),r.child}function If(t){var r=t.stateNode;r.pendingContext?Sd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Sd(t,r.context,!1),Wu(t,r.containerInfo)}function Sf(t,r,o,u,h){return gs(),zu(h),r.flags|=256,Ut(t,r,o,u),r.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function hc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Af(t,r,o){var u=r.pendingProps,h=Je.current,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),He(Je,h&1),t===null)return Uu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=y):p=pl(y,u,0,null),t=Ri(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=hc(o),r.memoizedState=cc,t):dc(r,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return py(t,r,y,u,w,h,o);if(p){p=u.fallback,y=r.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return!(y&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Ur(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=Ur(w,p):(p=Ri(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?hc(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=cc,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function dc(t,r){return r=pl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function tl(t,r,o,u){return u!==null&&zu(u),ys(r,t.child,null,o),t=dc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function py(t,r,o,u,h,p,y){if(o)return r.flags&256?(r.flags&=-257,u=oc(Error(n(422))),tl(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=pl({mode:"visible",children:u.children},h,0,null),p=Ri(p,h,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&ys(r,t.child,null,y),r.child.memoizedState=hc(y),r.memoizedState=cc,p);if(!(r.mode&1))return tl(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=oc(p,u,void 0),tl(t,r,y,u)}if(w=(y&t.childLanes)!==0,qt||w){if(u=vt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,lr(t,h),Vn(u,t,h,-1))}return Pc(),u=oc(Error(n(421))),tl(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Cy.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,tn=Cr(h.nextSibling),en=r,Ge=!0,Cn=null,t!==null&&(un[cn++]=or,un[cn++]=ar,un[cn++]=yi,or=t.id,ar=t.overflow,yi=r),r=dc(r,u.children),r.flags|=4096,r)}function Rf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),$u(t.return,r,o)}function fc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Cf(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Je.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rf(t,o,r);else if(t.tag===19)Rf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(He(Je,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Ka(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),fc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ka(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}fc(r,!0,o,null,p);break;case"together":fc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function nl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function cr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ti|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function my(t,r,o){switch(r.tag){case 3:If(r),gs();break;case 5:jd(r);break;case 1:$t(r.type)&&Ua(r);break;case 4:Wu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;He(qa,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(He(Je,Je.current&1),r.flags|=128,null):o&r.child.childLanes?Af(t,r,o):(He(Je,Je.current&1),t=cr(t,r,o),t!==null?t.sibling:null);He(Je,Je.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Cf(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),He(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,Ef(t,r,o)}return cr(t,r,o)}var Pf,pc,kf,xf;Pf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},pc=function(){},kf=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ei(Bn.current);var p=null;switch(o){case"input":h=Zr(t,h),u=Zr(t,u),p=[];break;case"select":h=Z({},h,{value:void 0}),u=Z({},u,{value:void 0}),p=[];break;case"textarea":h=Ws(t,h),u=Ws(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ma)}Js(o,u);var y;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var w=h[U];for(y in w)w.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(w=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&R!==w&&(R!=null||w!=null))if(U==="style")if(w){for(y in w)!w.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in R)R.hasOwnProperty(y)&&w[y]!==R[y]&&(o||(o={}),o[y]=R[y])}else o||(p||(p=[]),p.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&We("scroll",t),p||w===R||(p=[])):(p=p||[]).push(U,R))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},xf=function(t,r,o,u){o!==u&&(r.flags|=4)};function No(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function gy(t,r,o){var u=r.pendingProps;switch(Ou(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return $t(r.type)&&Fa(),Vt(r),null;case 3:return u=r.stateNode,Es(),Qe(bt),Qe(kt),Gu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(ba(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(Ac(Cn),Cn=null))),pc(t,r),Vt(r),null;case 5:Qu(r);var h=Ei(Po.current);if(o=r.type,t!==null&&r.stateNode!=null)kf(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=Ei(Bn.current),ba(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[jn]=r,u[Io]=p,t=(r.mode&1)!==0,o){case"dialog":We("cancel",u),We("close",u);break;case"iframe":case"object":case"embed":We("load",u);break;case"video":case"audio":for(h=0;h<Eo.length;h++)We(Eo[h],u);break;case"source":We("error",u);break;case"img":case"image":case"link":We("error",u),We("load",u);break;case"details":We("toggle",u);break;case"input":Mi(u,p),We("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},We("invalid",u);break;case"textarea":Fi(u,p),We("invalid",u)}Js(o,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&La(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&La(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&We("scroll",u)}switch(o){case"input":Kn(u),oa(u,p,!0);break;case"textarea":Kn(u),Qs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ma)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[jn]=r,t[Io]=u,Pf(t,r,!1,!1),r.stateNode=t;e:{switch(y=Zs(o,u),o){case"dialog":We("cancel",t),We("close",t),h=u;break;case"iframe":case"object":case"embed":We("load",t),h=u;break;case"video":case"audio":for(h=0;h<Eo.length;h++)We(Eo[h],t);h=u;break;case"source":We("error",t),h=u;break;case"img":case"image":case"link":We("error",t),We("load",t),h=u;break;case"details":We("toggle",t),h=u;break;case"input":Mi(t,u),h=Zr(t,u),We("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=Z({},u,{value:void 0}),We("invalid",t);break;case"textarea":Fi(t,u),h=Ws(t,u),We("invalid",t);break;default:h=u}Js(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?Xs(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ks(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&gr(t,R):typeof R=="number"&&gr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&We("scroll",t):R!=null&&ye(t,p,R,y))}switch(o){case"input":Kn(t),oa(t,u,!1);break;case"textarea":Kn(t),Qs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+ze(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Xn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Xn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ma)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)xf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ei(Po.current),Ei(Bn.current),ba(r)){if(u=r.stateNode,o=r.memoizedProps,u[jn]=r,(p=u.nodeValue!==o)&&(t=en,t!==null))switch(t.tag){case 3:La(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&La(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[jn]=r,r.stateNode=u}return Vt(r),null;case 13:if(Qe(Je),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&tn!==null&&r.mode&1&&!(r.flags&128))Dd(),gs(),r.flags|=98560,p=!1;else if(p=ba(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[jn]=r}else gs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else Cn!==null&&(Ac(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Je.current&1?dt===0&&(dt=3):Pc())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return Es(),pc(t,r),t===null&&wo(r.stateNode.containerInfo),Vt(r),null;case 10:return bu(r.type._context),Vt(r),null;case 17:return $t(r.type)&&Fa(),Vt(r),null;case 19:if(Qe(Je),p=r.memoizedState,p===null)return Vt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)No(p,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(y=Ka(t),y!==null){for(r.flags|=128,No(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Je,Je.current&1|2),r.child}t=t.sibling}p.tail!==null&&qe()>Ss&&(r.flags|=128,u=!0,No(p,!1),r.lanes=4194304)}else{if(!u)if(t=Ka(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),No(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ge)return Vt(r),null}else 2*qe()-p.renderingStartTime>Ss&&o!==1073741824&&(r.flags|=128,u=!0,No(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=qe(),r.sibling=null,o=Je.current,He(Je,u?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return Cc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?nn&1073741824&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function yy(t,r){switch(Ou(r),r.tag){case 1:return $t(r.type)&&Fa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Es(),Qe(bt),Qe(kt),Gu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Qu(r),null;case 13:if(Qe(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));gs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Qe(Je),null;case 4:return Es(),null;case 10:return bu(r.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var rl=!1,Dt=!1,_y=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ts(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){tt(t,r,u)}else o.current=null}function mc(t,r,o){try{o()}catch(u){tt(t,r,u)}}var Vf=!1;function vy(t,r){if(Cu=Sr,t=ld(),vu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,w=-1,R=-1,U=0,q=0,Q=t,$=null;t:for(;;){for(var ee;Q!==o||h!==0&&Q.nodeType!==3||(w=y+h),Q!==p||u!==0&&Q.nodeType!==3||(R=y+u),Q.nodeType===3&&(y+=Q.nodeValue.length),(ee=Q.firstChild)!==null;)$=Q,Q=ee;for(;;){if(Q===t)break t;if($===o&&++U===h&&(w=y),$===p&&++q===u&&(R=y),(ee=Q.nextSibling)!==null)break;Q=$,$=Q.parentNode}Q=ee}o=w===-1||R===-1?null:{start:w,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pu={focusedElem:t,selectionRange:o},Sr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var re=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,rt=re.memoizedState,M=r.stateNode,P=M.getSnapshotBeforeUpdate(r.elementType===r.type?ie:Pn(r.type,ie),rt);M.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){tt(r,r.return,K)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return re=Vf,Vf=!1,re}function Lo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&mc(r,o,p)}h=h.next}while(h!==u)}}function il(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function gc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Df(t){var r=t.alternate;r!==null&&(t.alternate=null,Df(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jn],delete r[Io],delete r[Du],delete r[ty],delete r[ny])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nf(t){return t.tag===5||t.tag===3||t.tag===4}function Lf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ma));else if(u!==4&&(t=t.child,t!==null))for(yc(t,r,o),t=t.sibling;t!==null;)yc(t,r,o),t=t.sibling}function _c(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(_c(t,r,o),t=t.sibling;t!==null;)_c(t,r,o),t=t.sibling}var St=null,kn=!1;function Nr(t,r,o){for(o=o.child;o!==null;)Mf(t,r,o),o=o.sibling}function Mf(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 5:Dt||Ts(o,r);case 6:var u=St,h=kn;St=null,Nr(t,r,o),St=u,kn=h,St!==null&&(kn?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(kn?(t=St,o=o.stateNode,t.nodeType===8?Vu(t.parentNode,o):t.nodeType===1&&Vu(t,o),Sn(t)):Vu(St,o.stateNode));break;case 4:u=St,h=kn,St=o.stateNode.containerInfo,kn=!0,Nr(t,r,o),St=u,kn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&(p&2||p&4)&&mc(o,r,y),h=h.next}while(h!==u)}Nr(t,r,o);break;case 1:if(!Dt&&(Ts(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){tt(o,r,w)}Nr(t,r,o);break;case 21:Nr(t,r,o);break;case 22:o.mode&1?(Dt=(u=Dt)||o.memoizedState!==null,Nr(t,r,o),Dt=u):Nr(t,r,o);break;default:Nr(t,r,o)}}function Of(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new _y),r.forEach(function(u){var h=Py.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,y=r,w=y;e:for(;w!==null;){switch(w.tag){case 5:St=w.stateNode,kn=!1;break e;case 3:St=w.stateNode.containerInfo,kn=!0;break e;case 4:St=w.stateNode.containerInfo,kn=!0;break e}w=w.return}if(St===null)throw Error(n(160));Mf(p,y,h),St=null,kn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){tt(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ff(r,t),r=r.sibling}function Ff(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),$n(t),u&4){try{Lo(3,t,t.return),il(3,t)}catch(ie){tt(t,t.return,ie)}try{Lo(5,t,t.return)}catch(ie){tt(t,t.return,ie)}}break;case 1:xn(r,t),$n(t),u&512&&o!==null&&Ts(o,o.return);break;case 5:if(xn(r,t),$n(t),u&512&&o!==null&&Ts(o,o.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(ie){tt(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&qs(h,p),Zs(w,y);var U=Zs(w,p);for(y=0;y<R.length;y+=2){var q=R[y],Q=R[y+1];q==="style"?Xs(h,Q):q==="dangerouslySetInnerHTML"?Ks(h,Q):q==="children"?gr(h,Q):ye(h,q,Q,U)}switch(w){case"input":Hs(h,p);break;case"textarea":Ui(h,p);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?Xn(h,!!p.multiple,ee,!1):$!==!!p.multiple&&(p.defaultValue!=null?Xn(h,!!p.multiple,p.defaultValue,!0):Xn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Io]=p}catch(ie){tt(t,t.return,ie)}}break;case 6:if(xn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ie){tt(t,t.return,ie)}}break;case 3:if(xn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Sn(r.containerInfo)}catch(ie){tt(t,t.return,ie)}break;case 4:xn(r,t),$n(t);break;case 13:xn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(wc=qe())),u&4&&Of(t);break;case 22:if(q=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(U=Dt)||q,xn(r,t),Dt=U):xn(r,t),$n(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!q&&t.mode&1)for(ne=t,q=t.child;q!==null;){for(Q=ne=q;ne!==null;){switch($=ne,ee=$.child,$.tag){case 0:case 11:case 14:case 15:Lo(4,$,$.return);break;case 1:Ts($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,o=$.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){tt(u,o,ie)}}break;case 5:Ts($,$.return);break;case 22:if($.memoizedState!==null){jf(Q);continue}}ee!==null?(ee.return=$,ne=ee):jf(Q)}q=q.sibling}e:for(q=null,Q=t;;){if(Q.tag===5){if(q===null){q=Q;try{h=Q.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=Q.stateNode,R=Q.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Gs("display",y))}catch(ie){tt(t,t.return,ie)}}}else if(Q.tag===6){if(q===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(ie){tt(t,t.return,ie)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;q===Q&&(q=null),Q=Q.return}q===Q&&(q=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:xn(r,t),$n(t),u&4&&Of(t);break;case 21:break;default:xn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Nf(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=Lf(t);_c(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Lf(t);yc(t,w,y);break;default:throw Error(n(161))}}catch(R){tt(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ey(t,r,o){ne=t,Uf(t)}function Uf(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||rl;if(!y){var w=h.alternate,R=w!==null&&w.memoizedState!==null||Dt;w=rl;var U=Dt;if(rl=y,(Dt=R)&&!U)for(ne=h;ne!==null;)y=ne,R=y.child,y.tag===22&&y.memoizedState!==null?Bf(h):R!==null?(R.return=y,ne=R):Bf(h);for(;p!==null;)ne=p,Uf(p),p=p.sibling;ne=h,rl=w,Dt=U}zf(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):zf(t)}}function zf(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Dt||il(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Dt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&zd(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}zd(r,y,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var q=U.memoizedState;if(q!==null){var Q=q.dehydrated;Q!==null&&Sn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||r.flags&512&&gc(r)}catch($){tt(r,r.return,$)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function jf(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Bf(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{il(4,r)}catch(R){tt(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){tt(r,h,R)}}var p=r.return;try{gc(r)}catch(R){tt(r,p,R)}break;case 5:var y=r.return;try{gc(r)}catch(R){tt(r,y,R)}}}catch(R){tt(r,r.return,R)}if(r===t){ne=null;break}var w=r.sibling;if(w!==null){w.return=r.return,ne=w;break}ne=r.return}}var wy=Math.ceil,sl=Se.ReactCurrentDispatcher,vc=Se.ReactCurrentOwner,fn=Se.ReactCurrentBatchConfig,Oe=0,vt=null,ot=null,At=0,nn=0,Is=Pr(0),dt=0,Mo=null,Ti=0,ol=0,Ec=0,Oo=null,Ht=null,wc=0,Ss=1/0,hr=null,al=!1,Tc=null,Lr=null,ll=!1,Mr=null,ul=0,Fo=0,Ic=null,cl=-1,hl=0;function zt(){return Oe&6?qe():cl!==-1?cl:cl=qe()}function Or(t){return t.mode&1?Oe&2&&At!==0?At&-At:iy.transition!==null?(hl===0&&(hl=ci()),hl):(t=xe,t!==0||(t=window.event,t=t===void 0?16:co(t.type)),t):1}function Vn(t,r,o,u){if(50<Fo)throw Fo=0,Ic=null,Error(n(185));Er(t,o,u),(!(Oe&2)||t!==vt)&&(t===vt&&(!(Oe&2)&&(ol|=o),dt===4&&Fr(t,At)),Wt(t,u),o===1&&Oe===0&&!(r.mode&1)&&(Ss=qe()+500,za&&xr()))}function Wt(t,r){var o=t.callbackNode;Zn(t,r);var u=ui(t,t===vt?At:0);if(u===0)o!==null&&so(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&so(o),r===1)t.tag===0?ry($f.bind(null,t)):Cd($f.bind(null,t)),Zg(function(){!(Oe&6)&&xr()}),o=null;else{switch(Tr(u)){case 1:o=ai;break;case 4:o=yr;break;case 16:o=on;break;case 536870912:o=ha;break;default:o=on}o=Yf(o,bf.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function bf(t,r){if(cl=-1,hl=0,Oe&6)throw Error(n(327));var o=t.callbackNode;if(As()&&t.callbackNode!==o)return null;var u=ui(t,t===vt?At:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=dl(t,u);else{r=u;var h=Oe;Oe|=2;var p=Hf();(vt!==t||At!==r)&&(hr=null,Ss=qe()+500,Si(t,r));do try{Sy();break}catch(w){qf(t,w)}while(!0);Bu(),sl.current=p,Oe=h,ot!==null?r=0:(vt=null,At=0,r=dt)}if(r!==0){if(r===2&&(h=Yt(t),h!==0&&(u=h,r=Sc(t,h))),r===1)throw o=Mo,Si(t,0),Fr(t,u),Wt(t,qe()),o;if(r===6)Fr(t,u);else{if(h=t.current.alternate,!(u&30)&&!Ty(h)&&(r=dl(t,u),r===2&&(p=Yt(t),p!==0&&(u=p,r=Sc(t,p))),r===1))throw o=Mo,Si(t,0),Fr(t,u),Wt(t,qe()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ai(t,Ht,hr);break;case 3:if(Fr(t,u),(u&130023424)===u&&(r=wc+500-qe(),10<r)){if(ui(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=xu(Ai.bind(null,t,Ht,hr),r);break}Ai(t,Ht,hr);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Ot(u);p=1<<y,y=r[y],y>h&&(h=y),u&=~p}if(u=h,u=qe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*wy(u/1960))-u,10<u){t.timeoutHandle=xu(Ai.bind(null,t,Ht,hr),u);break}Ai(t,Ht,hr);break;case 5:Ai(t,Ht,hr);break;default:throw Error(n(329))}}}return Wt(t,qe()),t.callbackNode===o?bf.bind(null,t):null}function Sc(t,r){var o=Oo;return t.current.memoizedState.isDehydrated&&(Si(t,r).flags|=256),t=dl(t,r),t!==2&&(r=Ht,Ht=o,r!==null&&Ac(r)),t}function Ac(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function Ty(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Rn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(t,r){for(r&=~Ec,r&=~ol,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ot(r),u=1<<o;t[o]=-1,r&=~u}}function $f(t){if(Oe&6)throw Error(n(327));As();var r=ui(t,0);if(!(r&1))return Wt(t,qe()),null;var o=dl(t,r);if(t.tag!==0&&o===2){var u=Yt(t);u!==0&&(r=u,o=Sc(t,u))}if(o===1)throw o=Mo,Si(t,0),Fr(t,r),Wt(t,qe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ai(t,Ht,hr),Wt(t,qe()),null}function Rc(t,r){var o=Oe;Oe|=1;try{return t(r)}finally{Oe=o,Oe===0&&(Ss=qe()+500,za&&xr())}}function Ii(t){Mr!==null&&Mr.tag===0&&!(Oe&6)&&As();var r=Oe;Oe|=1;var o=fn.transition,u=xe;try{if(fn.transition=null,xe=1,t)return t()}finally{xe=u,fn.transition=o,Oe=r,!(Oe&6)&&xr()}}function Cc(){nn=Is.current,Qe(Is)}function Si(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Jg(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(Ou(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Fa();break;case 3:Es(),Qe(bt),Qe(kt),Gu();break;case 5:Qu(u);break;case 4:Es();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:bu(u.type._context);break;case 22:case 23:Cc()}o=o.return}if(vt=t,ot=t=Ur(t.current,null),At=nn=r,dt=0,Mo=null,Ec=ol=Ti=0,Ht=Oo=null,vi!==null){for(r=0;r<vi.length;r++)if(o=vi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}o.pending=u}vi=null}return t}function qf(t,r){do{var o=ot;try{if(Bu(),Ga.current=Za,Xa){for(var u=Ze.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Xa=!1}if(wi=0,_t=ht=Ze=null,ko=!1,xo=0,vc.current=null,o===null||o.return===null){dt=1,Mo=r,ot=null;break}e:{var p=t,y=o.return,w=o,R=r;if(r=At,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,q=w,Q=q.tag;if(!(q.mode&1)&&(Q===0||Q===11||Q===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var ee=mf(y);if(ee!==null){ee.flags&=-257,gf(ee,y,w,p,r),ee.mode&1&&pf(p,U,r),r=ee,R=U;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(R),r.updateQueue=ie}else re.add(R);break e}else{if(!(r&1)){pf(p,U,r),Pc();break e}R=Error(n(426))}}else if(Ge&&w.mode&1){var rt=mf(y);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),gf(rt,y,w,p,r),zu(ws(R,w));break e}}p=R=ws(R,w),dt!==4&&(dt=2),Oo===null?Oo=[p]:Oo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=df(p,R,r);Ud(p,M);break e;case 1:w=R;var P=p.type,O=p.stateNode;if(!(p.flags&128)&&(typeof P.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Lr===null||!Lr.has(O)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=ff(p,w,r);Ud(p,K);break e}}p=p.return}while(p!==null)}Qf(o)}catch(oe){r=oe,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function Hf(){var t=sl.current;return sl.current=Za,t===null?Za:t}function Pc(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(Ti&268435455)&&!(ol&268435455)||Fr(vt,At)}function dl(t,r){var o=Oe;Oe|=2;var u=Hf();(vt!==t||At!==r)&&(hr=null,Si(t,r));do try{Iy();break}catch(h){qf(t,h)}while(!0);if(Bu(),Oe=o,sl.current=u,ot!==null)throw Error(n(261));return vt=null,At=0,dt}function Iy(){for(;ot!==null;)Wf(ot)}function Sy(){for(;ot!==null&&!ua();)Wf(ot)}function Wf(t){var r=Xf(t.alternate,t,nn);t.memoizedProps=t.pendingProps,r===null?Qf(t):ot=r,vc.current=null}function Qf(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=yy(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(o=gy(o,r,nn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);dt===0&&(dt=5)}function Ai(t,r,o){var u=xe,h=fn.transition;try{fn.transition=null,xe=1,Ay(t,r,o,u)}finally{fn.transition=h,xe=u}return null}function Ay(t,r,o,u){do As();while(Mr!==null);if(Oe&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(be(t,p),t===vt&&(ot=vt=null,At=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||ll||(ll=!0,Yf(on,function(){return As(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=fn.transition,fn.transition=null;var y=xe;xe=1;var w=Oe;Oe|=4,vc.current=null,vy(t,o),Ff(o,t),Hg(Pu),Sr=!!Cu,Pu=Cu=null,t.current=o,Ey(o),hu(),Oe=w,xe=y,fn.transition=p}else t.current=o;if(ll&&(ll=!1,Mr=t,ul=h),p=t.pendingLanes,p===0&&(Lr=null),da(o.stateNode),Wt(t,qe()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(al)throw al=!1,t=Tc,Tc=null,t;return ul&1&&t.tag!==0&&As(),p=t.pendingLanes,p&1?t===Ic?Fo++:(Fo=0,Ic=t):Fo=0,xr(),null}function As(){if(Mr!==null){var t=Tr(ul),r=fn.transition,o=xe;try{if(fn.transition=null,xe=16>t?16:t,Mr===null)var u=!1;else{if(t=Mr,Mr=null,ul=0,Oe&6)throw Error(n(331));var h=Oe;for(Oe|=4,ne=t.current;ne!==null;){var p=ne,y=p.child;if(ne.flags&16){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var U=w[R];for(ne=U;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:Lo(8,q,p)}var Q=q.child;if(Q!==null)Q.return=q,ne=Q;else for(;ne!==null;){q=ne;var $=q.sibling,ee=q.return;if(Df(q),q===U){ne=null;break}if($!==null){$.return=ee,ne=$;break}ne=ee}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var rt=ie.sibling;ie.sibling=null,ie=rt}while(ie!==null)}}ne=p}}if(p.subtreeFlags&2064&&y!==null)y.return=p,ne=y;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Lo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ne=M;break e}ne=p.return}}var P=t.current;for(ne=P;ne!==null;){y=ne;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,ne=O;else e:for(y=P;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:il(9,w)}}catch(oe){tt(w,w.return,oe)}if(w===y){ne=null;break e}var K=w.sibling;if(K!==null){K.return=w.return,ne=K;break e}ne=w.return}}if(Oe=h,xr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(li,t)}catch{}u=!0}return u}finally{xe=o,fn.transition=r}}return!1}function Kf(t,r,o){r=ws(o,r),r=df(t,r,1),t=Dr(t,r,1),r=zt(),t!==null&&(Er(t,1,r),Wt(t,r))}function tt(t,r,o){if(t.tag===3)Kf(t,t,o);else for(;r!==null;){if(r.tag===3){Kf(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=ws(o,t),t=ff(r,t,1),r=Dr(r,t,1),t=zt(),r!==null&&(Er(r,1,t),Wt(r,t));break}}r=r.return}}function Ry(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(At&o)===o&&(dt===4||dt===3&&(At&130023424)===At&&500>qe()-wc?Si(t,0):Ec|=o),Wt(t,r)}function Gf(t,r){r===0&&(t.mode&1?(r=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):r=1);var o=zt();t=lr(t,r),t!==null&&(Er(t,r,o),Wt(t,o))}function Cy(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Gf(t,o)}function Py(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Gf(t,o)}var Xf;Xf=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||bt.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,my(t,r,o);qt=!!(t.flags&131072)}else qt=!1,Ge&&r.flags&1048576&&Pd(r,Ba,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;nl(t,r),t=r.pendingProps;var h=fs(r,kt.current);vs(r,o),h=Ju(null,r,u,t,h,o);var p=Zu();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$t(u)?(p=!0,Ua(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Hu(r),h.updater=el,r.stateNode=h,h._reactInternals=r,sc(r,u,t,o),r=uc(null,r,u,!0,p,o)):(r.tag=0,Ge&&p&&Mu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(nl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=xy(u),t=Pn(u,t),h){case 0:r=lc(null,r,u,t,o);break e;case 1:r=Tf(null,r,u,t,o);break e;case 11:r=yf(null,r,u,t,o);break e;case 14:r=_f(null,r,u,Pn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),lc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Tf(t,r,u,h,o);case 3:e:{if(If(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Fd(t,r),Qa(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=ws(Error(n(423)),r),r=Sf(t,r,u,o,h);break e}else if(u!==h){h=ws(Error(n(424)),r),r=Sf(t,r,u,o,h);break e}else for(tn=Cr(r.stateNode.containerInfo.firstChild),en=r,Ge=!0,Cn=null,o=Md(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(gs(),u===h){r=cr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return jd(r),t===null&&Uu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,ku(u,h)?y=null:p!==null&&ku(u,p)&&(r.flags|=32),wf(t,r),Ut(t,r,y,o),r.child;case 6:return t===null&&Uu(r),null;case 13:return Af(t,r,o);case 4:return Wu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ys(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),yf(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,y=h.value,He(qa,u._currentValue),u._currentValue=y,p!==null)if(Rn(p.value,y)){if(p.children===h.children&&!bt.current){r=cr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=ur(-1,o&-o),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var q=U.pending;q===null?R.next=R:(R.next=q.next,q.next=R),U.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),$u(p.return,o,r),w.lanes|=o;break}R=R.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,w=y.alternate,w!==null&&(w.lanes|=o),$u(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,vs(r,o),h=hn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Pn(u,r.pendingProps),h=Pn(u.type,h),_f(t,r,u,h,o);case 15:return vf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),nl(t,r),r.tag=1,$t(u)?(t=!0,Ua(r)):t=!1,vs(r,o),cf(r,u,h),sc(r,u,h,o),uc(null,r,u,!0,t,o);case 19:return Cf(t,r,o);case 22:return Ef(t,r,o)}throw Error(n(156,r.tag))};function Yf(t,r){return Wi(t,r)}function ky(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new ky(t,r,o,u)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xy(t){if(typeof t=="function")return kc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N)return 11;if(t===_e)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function fl(t,r,o,u,h,p){var y=2;if(u=t,typeof t=="function")kc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return Ri(o.children,h,p,r);case T:y=8,h|=8;break;case A:return t=pn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=pn(13,o,r,h),t.elementType=S,t.lanes=p,t;case se:return t=pn(19,o,r,h),t.elementType=se,t.lanes=p,t;case we:return pl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:y=10;break e;case x:y=9;break e;case N:y=11;break e;case _e:y=14;break e;case pe:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ri(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function pl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=we,t.lanes=o,t.stateNode={isHidden:!1},t}function xc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Vc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Vy(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vr(0),this.expirationTimes=vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Dc(t,r,o,u,h,p,y,w,R){return t=new Vy(t,r,o,w,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hu(p),t}function Dy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Jf(t){if(!t)return kr;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if($t(o))return Ad(t,o,r)}return r}function Zf(t,r,o,u,h,p,y,w,R){return t=Dc(o,u,!0,t,h,p,y,w,R),t.context=Jf(null),o=t.current,u=zt(),h=Or(o),p=ur(u,h),p.callback=r??null,Dr(o,p,h),t.current.lanes=h,Er(t,h,u),Wt(t,u),t}function ml(t,r,o,u){var h=r.current,p=zt(),y=Or(h);return o=Jf(o),r.context===null?r.context=o:r.pendingContext=o,r=ur(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Dr(h,r,y),t!==null&&(Vn(t,h,y,p),Wa(t,h,y)),y}function gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ep(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Nc(t,r){ep(t,r),(t=t.alternate)&&ep(t,r)}var tp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lc(t){this._internalRoot=t}yl.prototype.render=Lc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));ml(t,r,null,null)},yl.prototype.unmount=Lc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ii(function(){ml(null,t,null,null)}),r[ir]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var r=ya();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&Ea(t)}};function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function np(){}function Ny(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=gl(y);p.call(U)}}var y=Zf(r,u,t,0,null,!1,!1,"",np);return t._reactRootContainer=y,t[ir]=y.current,wo(t.nodeType===8?t.parentNode:t),Ii(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var U=gl(R);w.call(U)}}var R=Dc(t,0,!1,null,null,!1,!1,"",np);return t._reactRootContainer=R,t[ir]=R.current,wo(t.nodeType===8?t.parentNode:t),Ii(function(){ml(r,R,o,u)}),R}function vl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var w=h;h=function(){var R=gl(y);w.call(R)}}ml(r,y,t,h)}else y=Ny(o,r,t,h,u);return gl(y)}ma=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=_r(r.pendingLanes);o!==0&&(wr(r,o|1),Wt(r,qe()),!(Oe&6)&&(Ss=qe()+500,xr()))}break;case 13:Ii(function(){var u=lr(t,1);if(u!==null){var h=zt();Vn(u,t,1,h)}}),Nc(t,1)}},Gi=function(t){if(t.tag===13){var r=lr(t,134217728);if(r!==null){var o=zt();Vn(r,t,134217728,o)}Nc(t,134217728)}},ga=function(t){if(t.tag===13){var r=Or(t),o=lr(t,r);if(o!==null){var u=zt();Vn(o,t,r,u)}Nc(t,r)}},ya=function(){return xe},_a=function(t,r){var o=xe;try{return xe=t,r()}finally{xe=o}},ji=function(t,r,o){switch(r){case"input":if(Hs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Oa(u);if(!h)throw Error(n(90));Li(u),Hs(u,h)}}}break;case"textarea":Ui(t,o);break;case"select":r=o.value,r!=null&&Xn(t,!!o.multiple,r,!1)}},ri=Rc,to=Ii;var Ly={usingClientEntryPoint:!1,Events:[So,hs,Oa,Ln,eo,Rc]},Uo={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},My={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=io(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{li=El.inject(My),Xt=El}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ly,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(r))throw Error(n(200));return Dy(t,r,null,o)},Qt.createRoot=function(t,r){if(!Mc(t))throw Error(n(299));var o=!1,u="",h=tp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Dc(t,1,!1,null,null,o,!1,u,h),t[ir]=r.current,wo(t.nodeType===8?t.parentNode:t),new Lc(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=io(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return Ii(t)},Qt.hydrate=function(t,r,o){if(!_l(r))throw Error(n(200));return vl(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!Mc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",y=tp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=Zf(r,null,t,1,o??null,h,!1,p,y),t[ir]=r.current,wo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new yl(r)},Qt.render=function(t,r,o){if(!_l(r))throw Error(n(200));return vl(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!_l(t))throw Error(n(40));return t._reactRootContainer?(Ii(function(){vl(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Qt.unstable_batchedUpdates=Rc,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!_l(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return vl(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var cp;function Hy(){if(cp)return Uc.exports;cp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Uc.exports=qy(),Uc.exports}var hp;function Wy(){if(hp)return wl;hp=1;var i=Hy();return wl.createRoot=i.createRoot,wl.hydrateRoot=i.hydrateRoot,wl}var Qy=Wy(),dp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Ky=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],d=i[n++],m=i[n++],_=((a&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},um={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,m=d?i[a+1]:0,_=a+2<i.length,E=_?i[a+2]:0,I=c>>2,V=(c&3)<<4|m>>4;let F=(m&15)<<2|E>>6,j=E&63;_||(j=64,d||(F=64)),s.push(n[I],n[V],n[F],n[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(lm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Ky(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const V=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||E==null||V==null)throw new Gy;const F=c<<2|m>>4;if(s.push(F),E!==64){const j=m<<4&240|E>>2;if(s.push(j),V!==64){const G=E<<6&192|V;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Gy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xy=function(i){const e=lm(i);return um.encodeByteArray(e,!0)},Ll=function(i){return Xy(i).replace(/\./g,"")},Yy=function(i){try{return um.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=()=>Jy().__FIREBASE_DEFAULTS__,e_=()=>{if(typeof process>"u"||typeof dp>"u")return;const i=dp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},t_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Yy(i[1]);return e&&JSON.parse(e)},vh=()=>{try{return Zy()||e_()||t_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},n_=i=>{var e,n;return(n=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},r_=i=>{const e=n_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cm=()=>{var i;return(i=vh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ll(JSON.stringify(n)),Ll(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a_(){var i;const e=(i=vh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l_(){return!a_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u_(){try{return typeof indexedDB=="object"}catch{return!1}}function c_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="FirebaseError";class zs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=h_,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hm.prototype.create)}}class hm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?d_(c,s):"Error",m=`${this.serviceName}: ${d} (${a}).`;return new zs(a,m,s)}}function d_(i,e){return i.replace(f_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const f_=/\{\$([^}]+)}/g;function Xc(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],d=e[a];if(fp(c)&&fp(d)){if(!Xc(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function fp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i){return i&&i._delegate?i._delegate:i}class Qo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new i_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g_(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:m_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m_(i){return i===Ci?void 0:i}function g_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const __={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},v_=Me.INFO,E_={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},w_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=E_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=v_,this._logHandler=w_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?__[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const T_=(i,e)=>e.some(n=>i instanceof n);let pp,mp;function I_(){return pp||(pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S_(){return mp||(mp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fm=new WeakMap,Yc=new WeakMap,pm=new WeakMap,Bc=new WeakMap,Eh=new WeakMap;function A_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Br(i.result)),a()},d=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&fm.set(n,i)}).catch(()=>{}),Eh.set(e,i),e}function R_(i){if(Yc.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Yc.set(i,e)}let Jc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Yc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||pm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function C_(i){Jc=i(Jc)}function P_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(bc(this),e,...n);return pm.set(s,e.sort?e.sort():[e]),Br(s)}:S_().includes(i)?function(...e){return i.apply(bc(this),e),Br(fm.get(this))}:function(...e){return Br(i.apply(bc(this),e))}}function k_(i){return typeof i=="function"?P_(i):(i instanceof IDBTransaction&&R_(i),T_(i,I_())?new Proxy(i,Jc):i)}function Br(i){if(i instanceof IDBRequest)return A_(i);if(Bc.has(i))return Bc.get(i);const e=k_(i);return e!==i&&(Bc.set(i,e),Eh.set(e,i)),e}const bc=i=>Eh.get(i);function x_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),m=Br(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Br(d.result),_.oldVersion,_.newVersion,Br(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),m.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),m}const V_=["get","getKey","getAll","getAllKeys","count"],D_=["put","add","delete","clear"],$c=new Map;function gp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($c.get(e))return $c.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=D_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||V_.includes(n)))return;const c=async function(d,...m){const _=this.transaction(d,a?"readwrite":"readonly");let E=_.store;return s&&(E=E.index(m.shift())),(await Promise.all([E[n](...m),a&&_.done]))[0]};return $c.set(e,c),c}C_(i=>({...i,get:(e,n,s)=>gp(e,n)||i.get(e,n,s),has:(e,n)=>!!gp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function L_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zc="@firebase/app",yp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new dm("@firebase/app"),M_="@firebase/app-compat",O_="@firebase/analytics-compat",F_="@firebase/analytics",U_="@firebase/app-check-compat",z_="@firebase/app-check",j_="@firebase/auth",B_="@firebase/auth-compat",b_="@firebase/database",$_="@firebase/data-connect",q_="@firebase/database-compat",H_="@firebase/functions",W_="@firebase/functions-compat",Q_="@firebase/installations",K_="@firebase/installations-compat",G_="@firebase/messaging",X_="@firebase/messaging-compat",Y_="@firebase/performance",J_="@firebase/performance-compat",Z_="@firebase/remote-config",ev="@firebase/remote-config-compat",tv="@firebase/storage",nv="@firebase/storage-compat",rv="@firebase/firestore",iv="@firebase/vertexai",sv="@firebase/firestore-compat",ov="firebase",av="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]",lv={[Zc]:"fire-core",[M_]:"fire-core-compat",[F_]:"fire-analytics",[O_]:"fire-analytics-compat",[z_]:"fire-app-check",[U_]:"fire-app-check-compat",[j_]:"fire-auth",[B_]:"fire-auth-compat",[b_]:"fire-rtdb",[$_]:"fire-data-connect",[q_]:"fire-rtdb-compat",[H_]:"fire-fn",[W_]:"fire-fn-compat",[Q_]:"fire-iid",[K_]:"fire-iid-compat",[G_]:"fire-fcm",[X_]:"fire-fcm-compat",[Y_]:"fire-perf",[J_]:"fire-perf-compat",[Z_]:"fire-rc",[ev]:"fire-rc-compat",[tv]:"fire-gcs",[nv]:"fire-gcs-compat",[rv]:"fire-fst",[sv]:"fire-fst-compat",[iv]:"fire-vertex","fire-js":"fire-js",[ov]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Map,uv=new Map,th=new Map;function _p(i,e){try{i.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ol(i){const e=i.name;if(th.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,i);for(const n of Ml.values())_p(n,i);for(const n of uv.values())_p(n,i);return!0}function cv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new hm("app","Firebase",hv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=av;function mm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:eh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw br.create("bad-app-name",{appName:String(a)});if(n||(n=cm()),!n)throw br.create("no-options");const c=Ml.get(a);if(c){if(Xc(n,c.options)&&Xc(s,c.config))return c;throw br.create("duplicate-app",{appName:a})}const d=new y_(a);for(const _ of th.values())d.addComponent(_);const m=new dv(n,s,d);return Ml.set(a,m),m}function pv(i=eh){const e=Ml.get(i);if(!e&&i===eh&&cm())return mm();if(!e)throw br.create("no-app",{appName:i});return e}function xs(i,e,n){var s;let a=(s=lv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}Ol(new Qo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="firebase-heartbeat-database",gv=1,Ko="firebase-heartbeat-store";let qc=null;function gm(){return qc||(qc=x_(mv,gv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ko)}catch(n){console.warn(n)}}}}).catch(i=>{throw br.create("idb-open",{originalErrorMessage:i.message})})),qc}async function yv(i){try{const n=(await gm()).transaction(Ko),s=await n.objectStore(Ko).get(ym(i));return await n.done,s}catch(e){if(e instanceof zs)dr.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function vp(i,e){try{const s=(await gm()).transaction(Ko,"readwrite");await s.objectStore(Ko).put(e,ym(i)),await s.done}catch(n){if(n instanceof zs)dr.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function ym(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=1024,vv=30*24*60*60*1e3;class Ev{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ep();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=vv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ep(),{heartbeatsToSend:s,unsentEntries:a}=wv(this._heartbeatsCache.heartbeats),c=Ll(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return dr.warn(n),""}}}function Ep(){return new Date().toISOString().substring(0,10)}function wv(i,e=_v){const n=[];let s=i.slice();for(const a of i){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),wp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),wp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Tv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u_()?c_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return vp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return vp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function wp(i){return Ll(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(i){Ol(new Qo("platform-logger",e=>new N_(e),"PRIVATE")),Ol(new Qo("heartbeat",e=>new Ev(e),"PRIVATE")),xs(Zc,yp,i),xs(Zc,yp,"esm2017"),xs("fire-js","")}Iv("");var Tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,_m;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function A(){}A.prototype=T.prototype,k.D=T.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(C,x,N){for(var S=Array(arguments.length-2),se=2;se<arguments.length;se++)S[se-2]=arguments[se];return T.prototype[x].apply(C,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,A){A||(A=0);var C=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)C[x]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(x=0;16>x;++x)C[x]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=k.g[0],A=k.g[1],x=k.g[2];var N=k.g[3],S=T+(N^A&(x^N))+C[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=N+(x^T&(A^x))+C[1]+3905402710&4294967295,N=T+(S<<12&4294967295|S>>>20),S=x+(A^N&(T^A))+C[2]+606105819&4294967295,x=N+(S<<17&4294967295|S>>>15),S=A+(T^x&(N^T))+C[3]+3250441966&4294967295,A=x+(S<<22&4294967295|S>>>10),S=T+(N^A&(x^N))+C[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=N+(x^T&(A^x))+C[5]+1200080426&4294967295,N=T+(S<<12&4294967295|S>>>20),S=x+(A^N&(T^A))+C[6]+2821735955&4294967295,x=N+(S<<17&4294967295|S>>>15),S=A+(T^x&(N^T))+C[7]+4249261313&4294967295,A=x+(S<<22&4294967295|S>>>10),S=T+(N^A&(x^N))+C[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=N+(x^T&(A^x))+C[9]+2336552879&4294967295,N=T+(S<<12&4294967295|S>>>20),S=x+(A^N&(T^A))+C[10]+4294925233&4294967295,x=N+(S<<17&4294967295|S>>>15),S=A+(T^x&(N^T))+C[11]+2304563134&4294967295,A=x+(S<<22&4294967295|S>>>10),S=T+(N^A&(x^N))+C[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=N+(x^T&(A^x))+C[13]+4254626195&4294967295,N=T+(S<<12&4294967295|S>>>20),S=x+(A^N&(T^A))+C[14]+2792965006&4294967295,x=N+(S<<17&4294967295|S>>>15),S=A+(T^x&(N^T))+C[15]+1236535329&4294967295,A=x+(S<<22&4294967295|S>>>10),S=T+(x^N&(A^x))+C[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=N+(A^x&(T^A))+C[6]+3225465664&4294967295,N=T+(S<<9&4294967295|S>>>23),S=x+(T^A&(N^T))+C[11]+643717713&4294967295,x=N+(S<<14&4294967295|S>>>18),S=A+(N^T&(x^N))+C[0]+3921069994&4294967295,A=x+(S<<20&4294967295|S>>>12),S=T+(x^N&(A^x))+C[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=N+(A^x&(T^A))+C[10]+38016083&4294967295,N=T+(S<<9&4294967295|S>>>23),S=x+(T^A&(N^T))+C[15]+3634488961&4294967295,x=N+(S<<14&4294967295|S>>>18),S=A+(N^T&(x^N))+C[4]+3889429448&4294967295,A=x+(S<<20&4294967295|S>>>12),S=T+(x^N&(A^x))+C[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=N+(A^x&(T^A))+C[14]+3275163606&4294967295,N=T+(S<<9&4294967295|S>>>23),S=x+(T^A&(N^T))+C[3]+4107603335&4294967295,x=N+(S<<14&4294967295|S>>>18),S=A+(N^T&(x^N))+C[8]+1163531501&4294967295,A=x+(S<<20&4294967295|S>>>12),S=T+(x^N&(A^x))+C[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=N+(A^x&(T^A))+C[2]+4243563512&4294967295,N=T+(S<<9&4294967295|S>>>23),S=x+(T^A&(N^T))+C[7]+1735328473&4294967295,x=N+(S<<14&4294967295|S>>>18),S=A+(N^T&(x^N))+C[12]+2368359562&4294967295,A=x+(S<<20&4294967295|S>>>12),S=T+(A^x^N)+C[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=N+(T^A^x)+C[8]+2272392833&4294967295,N=T+(S<<11&4294967295|S>>>21),S=x+(N^T^A)+C[11]+1839030562&4294967295,x=N+(S<<16&4294967295|S>>>16),S=A+(x^N^T)+C[14]+4259657740&4294967295,A=x+(S<<23&4294967295|S>>>9),S=T+(A^x^N)+C[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=N+(T^A^x)+C[4]+1272893353&4294967295,N=T+(S<<11&4294967295|S>>>21),S=x+(N^T^A)+C[7]+4139469664&4294967295,x=N+(S<<16&4294967295|S>>>16),S=A+(x^N^T)+C[10]+3200236656&4294967295,A=x+(S<<23&4294967295|S>>>9),S=T+(A^x^N)+C[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=N+(T^A^x)+C[0]+3936430074&4294967295,N=T+(S<<11&4294967295|S>>>21),S=x+(N^T^A)+C[3]+3572445317&4294967295,x=N+(S<<16&4294967295|S>>>16),S=A+(x^N^T)+C[6]+76029189&4294967295,A=x+(S<<23&4294967295|S>>>9),S=T+(A^x^N)+C[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=N+(T^A^x)+C[12]+3873151461&4294967295,N=T+(S<<11&4294967295|S>>>21),S=x+(N^T^A)+C[15]+530742520&4294967295,x=N+(S<<16&4294967295|S>>>16),S=A+(x^N^T)+C[2]+3299628645&4294967295,A=x+(S<<23&4294967295|S>>>9),S=T+(x^(A|~N))+C[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=N+(A^(T|~x))+C[7]+1126891415&4294967295,N=T+(S<<10&4294967295|S>>>22),S=x+(T^(N|~A))+C[14]+2878612391&4294967295,x=N+(S<<15&4294967295|S>>>17),S=A+(N^(x|~T))+C[5]+4237533241&4294967295,A=x+(S<<21&4294967295|S>>>11),S=T+(x^(A|~N))+C[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=N+(A^(T|~x))+C[3]+2399980690&4294967295,N=T+(S<<10&4294967295|S>>>22),S=x+(T^(N|~A))+C[10]+4293915773&4294967295,x=N+(S<<15&4294967295|S>>>17),S=A+(N^(x|~T))+C[1]+2240044497&4294967295,A=x+(S<<21&4294967295|S>>>11),S=T+(x^(A|~N))+C[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=N+(A^(T|~x))+C[15]+4264355552&4294967295,N=T+(S<<10&4294967295|S>>>22),S=x+(T^(N|~A))+C[6]+2734768916&4294967295,x=N+(S<<15&4294967295|S>>>17),S=A+(N^(x|~T))+C[13]+1309151649&4294967295,A=x+(S<<21&4294967295|S>>>11),S=T+(x^(A|~N))+C[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=N+(A^(T|~x))+C[11]+3174756917&4294967295,N=T+(S<<10&4294967295|S>>>22),S=x+(T^(N|~A))+C[2]+718787259&4294967295,x=N+(S<<15&4294967295|S>>>17),S=A+(N^(x|~T))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+N&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var A=T-this.blockSize,C=this.B,x=this.h,N=0;N<T;){if(x==0)for(;N<=A;)a(this,k,N),N+=this.blockSize;if(typeof k=="string"){for(;N<T;)if(C[x++]=k.charCodeAt(N++),x==this.blockSize){a(this,C),x=0;break}}else for(;N<T;)if(C[x++]=k[N++],x==this.blockSize){a(this,C),x=0;break}}this.h=x,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var A=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=A&255,A/=256;for(this.u(k),k=Array(16),T=A=0;4>T;++T)for(var C=0;32>C;C+=8)k[A++]=this.g[T]>>>C&255;return k};function c(k,T){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=T(k)}function d(k,T){this.h=T;for(var A=[],C=!0,x=k.length-1;0<=x;x--){var N=k[x]|0;C&&N==T||(A[x]=N,C=!1)}this.g=A}var m={};function _(k){return-128<=k&&128>k?c(k,function(T){return new d([T|0],0>T?-1:0)}):new d([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return V;if(0>k)return H(E(-k));for(var T=[],A=1,C=0;k>=A;C++)T[C]=k/A|0,A*=4294967296;return new d(T,0)}function I(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return H(I(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(T,8)),C=V,x=0;x<k.length;x+=8){var N=Math.min(8,k.length-x),S=parseInt(k.substring(x,x+N),T);8>N?(N=E(Math.pow(T,N)),C=C.j(N).add(E(S))):(C=C.j(A),C=C.add(E(S)))}return C}var V=_(0),F=_(1),j=_(16777216);i=d.prototype,i.m=function(){if(J(this))return-H(this).m();for(var k=0,T=1,A=0;A<this.g.length;A++){var C=this.i(A);k+=(0<=C?C:4294967296+C)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(G(this))return"0";if(J(this))return"-"+H(this).toString(k);for(var T=E(Math.pow(k,6)),A=this,C="";;){var x=Se(A,T).g;A=Te(A,x.j(T));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=x,G(A))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function G(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function J(k){return k.h==-1}i.l=function(k){return k=Te(this,k),J(k)?-1:G(k)?0:1};function H(k){for(var T=k.g.length,A=[],C=0;C<T;C++)A[C]=~k.g[C];return new d(A,~k.h).add(F)}i.abs=function(){return J(this)?H(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],C=0,x=0;x<=T;x++){var N=C+(this.i(x)&65535)+(k.i(x)&65535),S=(N>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);C=S>>>16,N&=65535,S&=65535,A[x]=S<<16|N}return new d(A,A[A.length-1]&-2147483648?-1:0)};function Te(k,T){return k.add(H(T))}i.j=function(k){if(G(this)||G(k))return V;if(J(this))return J(k)?H(this).j(H(k)):H(H(this).j(k));if(J(k))return H(this.j(H(k)));if(0>this.l(j)&&0>k.l(j))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,A=[],C=0;C<2*T;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<k.g.length;x++){var N=this.i(C)>>>16,S=this.i(C)&65535,se=k.i(x)>>>16,_e=k.i(x)&65535;A[2*C+2*x]+=S*_e,Ie(A,2*C+2*x),A[2*C+2*x+1]+=N*_e,Ie(A,2*C+2*x+1),A[2*C+2*x+1]+=S*se,Ie(A,2*C+2*x+1),A[2*C+2*x+2]+=N*se,Ie(A,2*C+2*x+2)}for(C=0;C<T;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=T;C<2*T;C++)A[C]=0;return new d(A,0)};function Ie(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ye(k,T){this.g=k,this.h=T}function Se(k,T){if(G(T))throw Error("division by zero");if(G(k))return new ye(V,V);if(J(k))return T=Se(H(k),T),new ye(H(T.g),H(T.h));if(J(T))return T=Se(k,H(T)),new ye(H(T.g),T.h);if(30<k.g.length){if(J(k)||J(T))throw Error("slowDivide_ only works with positive integers.");for(var A=F,C=T;0>=C.l(k);)A=Ye(A),C=Ye(C);var x=ke(A,1),N=ke(C,1);for(C=ke(C,2),A=ke(A,2);!G(C);){var S=N.add(C);0>=S.l(k)&&(x=x.add(A),N=S),C=ke(C,1),A=ke(A,1)}return T=Te(k,x.j(T)),new ye(x,T)}for(x=V;0<=k.l(T);){for(A=Math.max(1,Math.floor(k.m()/T.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=E(A),S=N.j(T);J(S)||0<S.l(k);)A-=C,N=E(A),S=N.j(T);G(N)&&(N=F),x=x.add(N),k=Te(k,S)}return new ye(x,k)}i.A=function(k){return Se(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)&k.i(C);return new d(A,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)|k.i(C);return new d(A,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)^k.i(C);return new d(A,this.h^k.h)};function Ye(k){for(var T=k.g.length+1,A=[],C=0;C<T;C++)A[C]=k.i(C)<<1|k.i(C-1)>>>31;return new d(A,k.h)}function ke(k,T){var A=T>>5;T%=32;for(var C=k.g.length-A,x=[],N=0;N<C;N++)x[N]=0<T?k.i(N+A)>>>T|k.i(N+A+1)<<32-T:k.i(N+A);return new d(x,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_m=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=I,ki=d}).apply(typeof Tp<"u"?Tp:typeof self<"u"?self:typeof window<"u"?window:{});var Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vm,jo,Em,Pl,nh,wm,Tm,Im;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tl=="object"&&Tl];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var g=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var L=l[v];if(!(L in g))break e;g=g[L]}l=l[l.length-1],v=g[l],f=f(v),f!=v&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var g=0,v=!1,L={next:function(){if(!v&&g<l.length){var z=g++;return{value:f(z,l[z]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function _(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function E(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function I(l,f,g){return l.call.apply(l.bind,arguments)}function V(l,f,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function F(l,f,g){return F=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:V,F.apply(null,arguments)}function j(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function G(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,L,z){for(var Y=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)Y[Be-2]=arguments[Be];return f.prototype[L].apply(v,Y)}}function J(l){const f=l.length;if(0<f){const g=Array(f);for(let v=0;v<f;v++)g[v]=l[v];return g}return[]}function H(l,f){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(_(v)){const L=l.length||0,z=v.length||0;l.length=L+z;for(let Y=0;Y<z;Y++)l[L+Y]=v[Y]}else l.push(v)}}class Te{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Ie(l){return/^[\s\xa0]*$/.test(l)}function ye(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var Ye=ye().indexOf("Gecko")!=-1&&!(ye().toLowerCase().indexOf("webkit")!=-1&&ye().indexOf("Edge")==-1)&&!(ye().indexOf("Trident")!=-1||ye().indexOf("MSIE")!=-1)&&ye().indexOf("Edge")==-1;function ke(l,f,g){for(const v in l)f.call(g,l[v],v,l)}function k(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function T(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,f){let g,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(g in v)l[g]=v[g];for(let z=0;z<A.length;z++)g=A[z],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function x(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function N(l){m.setTimeout(()=>{throw l},0)}function S(){var l=ue;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class se{constructor(){this.h=this.g=null}add(f,g){const v=_e.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var _e=new Te(()=>new pe,l=>l.reset());class pe{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let we,X=!1,ue=new se,Z=()=>{const l=m.Promise.resolve(void 0);we=()=>{l.then(D)}};var D=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){N(g)}var f=_e;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}X=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l}();function Re(l,f){if(le.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Ye){e:{try{Se(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:De[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}G(Re,le);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ze=0;function $e(l,f,g,v,L){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=L,this.key=++ze,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Kn(l){this.src=l,this.g={},this.h=0}Kn.prototype.add=function(l,f,g,v,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var Y=mr(l,f,v,L);return-1<Y?(f=l[Y],g||(f.fa=!1)):(f=new $e(f,this.src,z,!!v,L),f.fa=g,l.push(f)),f};function Li(l,f){var g=f.type;if(g in l.g){var v=l.g[g],L=Array.prototype.indexOf.call(v,f,void 0),z;(z=0<=L)&&Array.prototype.splice.call(v,L,1),z&&(gt(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mr(l,f,g,v){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==f&&z.capture==!!g&&z.ha==v)return L}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),Mi={};function qs(l,f,g,v,L){if(Array.isArray(f)){for(var z=0;z<f.length;z++)qs(l,f[z],g,v,L);return null}return g=Qs(g),l&&l[Ue]?l.K(f,g,E(v)?!!v.capture:!!v,L):Hs(l,f,g,!1,v,L)}function Hs(l,f,g,v,L,z){if(!f)throw Error("Invalid event type");var Y=E(L)?!!L.capture:!!L,Be=Fi(l);if(Be||(l[Zr]=Be=new Kn(l)),g=Be.add(f,g,v,Y,z),g.proxy)return g;if(v=oa(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)Ae||(L=Y),L===void 0&&(L=!1),l.addEventListener(f.toString(),v,L);else if(l.attachEvent)l.attachEvent(Xn(f.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function oa(){function l(g){return f.call(l.src,l.listener,g)}const f=Ws;return l}function Oi(l,f,g,v,L){if(Array.isArray(f))for(var z=0;z<f.length;z++)Oi(l,f[z],g,v,L);else v=E(v)?!!v.capture:!!v,g=Qs(g),l&&l[Ue]?(l=l.i,f=String(f).toString(),f in l.g&&(z=l.g[f],g=mr(z,g,v,L),-1<g&&(gt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[f],l.h--)))):l&&(l=Fi(l))&&(f=l.g[f.toString()],l=-1,f&&(l=mr(f,g,v,L)),(g=-1<l?f[l]:null)&&Gn(g))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ue])Li(f.i,l);else{var g=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(g,v,l.capture):f.detachEvent?f.detachEvent(Xn(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=Fi(f))?(Li(g,l),g.h==0&&(g.src=null,f[Zr]=null)):gt(l)}}}function Xn(l){return l in Mi?Mi[l]:Mi[l]="on"+l}function Ws(l,f){if(l.da)l=!0;else{f=new Re(f,this);var g=l.listener,v=l.ha||l.src;l.fa&&Gn(l),l=g.call(v,f)}return l}function Fi(l){return l=l[Zr],l instanceof Kn?l:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qs(l){return typeof l=="function"?l:(l[Ui]||(l[Ui]=function(f){return l.handleEvent(f)}),l[Ui])}function lt(){b.call(this),this.i=new Kn(this),this.M=this,this.F=null}G(lt,b),lt.prototype[Ue]=!0,lt.prototype.removeEventListener=function(l,f,g,v){Oi(this,l,f,g,v)};function ut(l,f){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=f.type||f,typeof f=="string")f=new le(f,l);else if(f instanceof le)f.target=f.target||l;else{var L=f;f=new le(v,l),C(f,L)}if(L=!0,g)for(var z=g.length-1;0<=z;z--){var Y=f.g=g[z];L=Yn(Y,v,!0,f)&&L}if(Y=f.g=l,L=Yn(Y,v,!0,f)&&L,L=Yn(Y,v,!1,f)&&L,g)for(z=0;z<g.length;z++)Y=f.g=g[z],L=Yn(Y,v,!1,f)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],v=0;v<g.length;v++)gt(g[v]);delete l.g[f],l.h--}}this.F=null},lt.prototype.K=function(l,f,g,v){return this.i.add(String(l),f,!1,g,v)},lt.prototype.L=function(l,f,g,v){return this.i.add(String(l),f,!0,g,v)};function Yn(l,f,g,v){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,z=0;z<f.length;++z){var Y=f[z];if(Y&&!Y.da&&Y.capture==g){var Be=Y.listener,ct=Y.ha||Y.src;Y.fa&&Li(l.i,Y),L=Be.call(ct,v)!==!1&&L}}return L&&!v.defaultPrevented}function Ks(l,f,g){if(typeof l=="function")g&&(l=F(l,g));else if(l&&typeof l.handleEvent=="function")l=F(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function gr(l){l.g=Ks(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class ei extends b{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(l){b.call(this),this.h=l,this.g={}}G(ti,b);var Gs=[];function Xs(l){ke(l.g,function(f,g){this.g.hasOwnProperty(g)&&Gn(f)},l),l.g={}}ti.prototype.N=function(){ti.aa.N.call(this),Xs(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=m.JSON.stringify,Js=m.JSON.parse,Zs=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ni(){}ni.prototype.h=null;function zi(l){return l.h||(l.h=l.i())}function ji(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){le.call(this,"d")}G(Nn,le);function Bi(){le.call(this,"c")}G(Bi,le);var Ln={},eo=null;function ri(){return eo=eo||new lt}Ln.La="serverreachability";function to(l){le.call(this,Ln.La,l)}G(to,le);function Jn(l){const f=ri();ut(f,new to(f))}Ln.STAT_EVENT="statevent";function no(l,f){le.call(this,Ln.STAT_EVENT,l),this.stat=f}G(no,le);function nt(l){const f=ri();ut(f,new no(f,l))}Ln.Ma="timingevent";function bi(l,f){le.call(this,Ln.Ma,l),this.size=f}G(bi,le);function yn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function si(l,f,g,v,L,z){l.info(function(){if(l.g)if(z)for(var Y="",Be=z.split("&"),ct=0;ct<Be.length;ct++){var Ne=Be[ct].split("=");if(1<Ne.length){var yt=Ne[0];Ne=Ne[1];var st=yt.split("_");Y=2<=st.length&&st[1]=="type"?Y+(yt+"="+Ne+"&"):Y+(yt+"=redacted&")}}else Y=null;else Y=z;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+f+`
`+g+`
`+Y})}function $i(l,f,g,v,L,z,Y){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+f+`
`+g+`
`+z+" "+Y})}function _n(l,f,g,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+cu(l,g)+(v?" "+v:"")})}function ro(l,f){l.info(function(){return"TIMEOUT: "+f})}ii.prototype.info=function(){};function cu(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return Ys(g)}catch{return f}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function oi(){}G(oi,ni),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},vn=new oi;function En(l,f,g,v){this.j=l,this.i=f,this.l=g,this.R=v||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new la}function la(){this.i=null,this.g="",this.h=!1}var io={},Hi={};function Wi(l,f,g){l.L=1,l.v=wr(Yt(f)),l.m=g,l.P=!0,so(l,null)}function so(l,f){l.F=Date.now(),qe(l),l.A=Yt(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Ir(g.i,"t",v),l.C=0,g=l.j.J,l.h=new la,l.g=Ra(l.j,g?f:null,!l.m),0<l.O&&(l.M=new ei(F(l.Y,l,l.g),l.O)),f=l.U,g=l.g,v=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Gs[0]=L.toString()),L=Gs);for(var z=0;z<L.length;z++){var Y=qs(g,L[z],v||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Jn(),si(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const f=this.M;f&&Bt(l)==3?f.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const st=Bt(this.g);var f=this.g.Ba();const ln=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||ho(this.g)))){this.J||st!=4||f==7||(f==8||0>=ln?Jn(3):Jn(2)),ai(this);var g=this.g.Z();this.X=g;t:if(ua(this)){var v=ho(this.g);l="";var L=v.length,z=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),yr(this);var Y="";break t}this.h.i=new m.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(z&&f==L-1)});v.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,$i(this.i,this.u,this.A,this.l,this.R,st,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,ct=this.g;if((Be=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ie(Be)){var Ne=Be;break t}}Ne=null}if(g=Ne)_n(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oo(this,g);else{this.o=!1,this.s=3,nt(12),on(this),yr(this);break e}}if(this.P){g=!0;let Zt;for(;!this.J&&this.C<Y.length;)if(Zt=hu(this,Y),Zt==Hi){st==4&&(this.s=4,nt(14),g=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==io){this.s=4,nt(15),_n(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else _n(this.i,this.l,Zt,null),oo(this,Zt);if(ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||Y.length!=0||this.h.h||(this.s=1,nt(16),g=!1),this.o=this.o&&g,!g)_n(this.i,this.l,Y,"[Invalid Chunked Response]"),on(this),yr(this);else if(0<Y.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),po(yt),yt.M=!0,nt(11))}}else _n(this.i,this.l,Y,null),oo(this,Y);st==4&&on(this),this.o&&!this.J&&(st==4?rs(this.j,this):(this.o=!1,qe(this)))}else Ji(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),on(this),yr(this)}}}catch{}finally{}};function ua(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function hu(l,f){var g=l.C,v=f.indexOf(`
`,g);return v==-1?Hi:(g=Number(f.substring(g,v)),isNaN(g)?io:(v+=1,v+g>f.length?Hi:(f=f.slice(v,v+g),l.C=v+g,f)))}En.prototype.cancel=function(){this.J=!0,on(this)};function qe(l){l.S=Date.now()+l.I,ca(l,l.I)}function ca(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(F(l.ba,l),f)}function ai(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ro(this.i,this.A),this.L!=2&&(Jn(),nt(17)),on(this),this.s=2,yr(this)):ca(this,this.S-l)};function yr(l){l.j.G==0||l.J||rs(l.j,l)}function on(l){ai(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Xs(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function oo(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Ot(g.h,l))){if(!l.K&&Ot(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ns(g),An(g);else break e;ts(g),nt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=yn(F(g.Za,g),6e3));if(1>=da(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else rr(g,11)}else if((l.K||g.g==l)&&ns(g),!Ie(f))for(L=g.Da.g.parse(f),f=0;f<L.length;f++){let Ne=L[f];if(g.T=Ne[0],Ne=Ne[1],g.G==2)if(Ne[0]=="c"){g.K=Ne[1],g.ia=Ne[2];const yt=Ne[3];yt!=null&&(g.la=yt,g.j.info("VER="+g.la));const st=Ne[4];st!=null&&(g.Aa=st,g.j.info("SVER="+g.Aa));const ln=Ne[5];ln!=null&&typeof ln=="number"&&0<ln&&(v=1.5*ln,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const Zt=l.g;if(Zt){const pi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var z=v.h;z.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ao(z,z.h),z.h=null))}if(v.D){const ss=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(v.ya=ss,be(v.I,v.D,ss))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var Y=l;if(v.qa=Aa(v,v.J?v.ia:null,v.W),Y.K){fa(v.h,Y);var Be=Y,ct=v.L;ct&&(Be.I=ct),Be.B&&(ai(Be),qe(Be)),v.g=Y}else fi(v);0<g.i.length&&Un(g)}else Ne[0]!="stop"&&Ne[0]!="close"||rr(g,7);else g.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?rr(g,7):It(g):Ne[0]!="noop"&&g.l&&g.l.ta(Ne),g.v=0)}}Jn(4)}catch{}}var ha=class{constructor(l,f){this.g=l,this.map=f}};function li(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function da(l){return l.h?1:l.g?l.g.size:0}function Ot(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function ao(l,f){l.g?l.g.add(f):l.h=f}function fa(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}li.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function pa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return J(l.i)}function Qi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(_(l)){for(var f=[],g=l.length,v=0;v<g;v++)f.push(l[v]);return f}f=[],g=0;for(v in l)f[g++]=l[v];return f}function Ki(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(_(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const v in l)f[g++]=v;return f}}}function _r(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(_(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=Ki(l),v=Qi(l),L=v.length,z=0;z<L;z++)f.call(void 0,v[z],g&&g[z],l)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function du(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),L=null;if(0<=v){var z=l[g].substring(0,v);L=l[g].substring(v+1)}else z=l[g];f(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Zn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zn){this.h=l.h,ci(this,l.j),this.o=l.o,this.g=l.g,vr(this,l.s),this.l=l.l;var f=l.i,g=new Mn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Er(this,g),this.m=l.m}else l&&(f=String(l).match(ui))?(this.h=!1,ci(this,f[1]||"",!0),this.o=xe(f[2]||""),this.g=xe(f[3]||"",!0),vr(this,f[4]),this.l=xe(f[5]||"",!0),Er(this,f[6]||"",!0),this.m=xe(f[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}Zn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Tr(f,Gi,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Tr(f,Gi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Tr(g,g.charAt(0)=="/"?ya:ga,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Tr(g,lo)),l.join("")};function Yt(l){return new Zn(l)}function ci(l,f,g){l.j=g?xe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function vr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Er(l,f,g){f instanceof Mn?(l.i=f,On(l.i,l.h)):(g||(f=Tr(f,_a)),l.i=new Mn(f,l.h))}function be(l,f,g){l.i.set(f,g)}function wr(l){return be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,ma),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ma(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gi=/[#\/\?@]/g,ga=/[#\?:]/g,ya=/[#\?]/g,_a=/[#\?@]/g,lo=/#/g;function Mn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&du(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=Mn.prototype,i.add=function(l,f){Tt(this),this.i=null,l=an(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function wn(l,f){Tt(l),f=an(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Tn(l,f){return Tt(l),f=an(l,f),l.g.has(f)}i.forEach=function(l,f){Tt(this),this.g.forEach(function(g,v){g.forEach(function(L){l.call(f,L,v,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){const L=l[v];for(let z=0;z<L.length;z++)g.push(f[v])}return g},i.V=function(l){Tt(this);let f=[];if(typeof l=="string")Tn(this,l)&&(f=f.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return Tt(this),this.i=null,l=an(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ir(l,f,g){wn(l,f),0<g.length&&(l.i=null,l.g.set(an(l,f),J(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];const z=encodeURIComponent(String(v)),Y=this.V(v);for(v=0;v<Y.length;v++){var L=z;Y[v]!==""&&(L+="="+encodeURIComponent(String(Y[v]))),l.push(L)}}return this.i=l.join("&")};function an(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function On(l,f){f&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(g,v){var L=v.toLowerCase();v!=L&&(wn(this,v),Ir(this,L,g))},l)),l.j=f}function fu(l,f){const g=new ii;if(m.Image){const v=new Image;v.onload=j(jt,g,"TestLoadImage: loaded",!0,f,v),v.onerror=j(jt,g,"TestLoadImage: error",!1,f,v),v.onabort=j(jt,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=j(jt,g,"TestLoadImage: timeout",!1,f,v),m.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}function va(l,f){const g=new ii,v=new AbortController,L=setTimeout(()=>{v.abort(),jt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:v.signal}).then(z=>{clearTimeout(L),z.ok?jt(g,"TestPingServer: ok",!0,f):jt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),jt(g,"TestPingServer: error",!1,f)})}function jt(l,f,g,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(g)}catch{}}function pu(){this.g=new Zs}function Ea(l,f,g){const v=g||"";try{_r(l,function(L,z){let Y=L;E(L)&&(Y=Ys(L)),f.push(v+z+"="+encodeURIComponent(Y))})}catch(L){throw f.push(v+"type="+encodeURIComponent("_badmap")),L}}function er(l){this.l=l.Ub||null,this.j=l.eb||!1}G(er,ni),er.prototype.g=function(){return new hi(this.l,this.j)},er.prototype.i=function(l){return function(){return l}}({});function hi(l,f){lt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(hi,lt),i=hi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Sn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,In(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function wa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?In(this):Sn(this),this.readyState==3&&wa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,In(this))},i.Qa=function(l){this.g&&(this.response=l,In(this))},i.ga=function(){this.g&&In(this)};function In(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Sn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Sn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tr(l){let f="";return ke(l,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function Sr(l,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=tr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):be(l,f,g))}function Ke(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Ke,lt);var mu=/^https?$/i,uo=["POST","PUT"];i=Ke.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?zi(this.o):zi(vn),this.g.onreadystatechange=F(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(z){di(this,z);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)g.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const z of v.keys())g.set(z,v.get(z));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(uo,f,void 0))||v||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Y]of g)this.g.setRequestHeader(z,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){di(this,z)}};function di(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Xi(l),Jt(l)}function Xi(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Jt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},i.bb=function(){co(this)};function co(l){if(l.h&&typeof d<"u"&&(!l.v[1]||Bt(l)!=4||l.Z()!=2)){if(l.u&&Bt(l)==4)Ks(l.Ea,0,l);else if(ut(l,"readystatechange"),Bt(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=Y===0){var L=String(l.D).match(ui)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),v=!mu.test(L?L.toLowerCase():"")}g=v}if(g)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var z=2<Bt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",Xi(l)}}finally{Jt(l)}}}}function Jt(l,f){if(l.g){Yi(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ut(l,"ready");try{g.onreadystatechange=v}catch{}}}function Yi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Js(f)}};function ho(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(l){const f={};l=(l.g&&2<=Bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(Ie(l[v]))continue;var g=x(l[v]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=f[L]||[];f[L]=z,z.push(g)}k(f,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function fo(l){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new li(l&&l.concurrentRequestLimit),this.Da=new pu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fo.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,v){nt(0),this.W=l,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Aa(this,null,this.W),Un(this)};function It(l){if(Zi(l),l.G==3){var f=l.U++,g=Yt(l.I);if(be(g,"SID",l.K),be(g,"RID",f),be(g,"TYPE","terminate"),nr(l,g),f=new En(l,l.j,f),f.L=2,f.v=wr(Yt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=Ra(f.j,null),f.g.ea(f.v)),f.F=Date.now(),qe(f)}Sa(l)}function An(l){l.g&&(po(l),l.g.cancel(),l.g=null)}function Zi(l){An(l),l.u&&(m.clearTimeout(l.u),l.u=null),ns(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Xt(l.h)&&!l.s){l.s=!0;var f=l.Ga;we||Z(),X||(we(),X=!0),ue.add(f,l),l.B=0}}function gu(l,f){return da(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(F(l.Ga,l,f),Ia(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new En(this,this.j,l);let z=this.o;if(this.S&&(z?(z=T(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Ar(this,L,f),g=Yt(this.I),be(g,"RID",l),be(g,"CVER",22),this.D&&be(g,"X-HTTP-Session-Id",this.D),nr(this,g),z&&(this.O?f="headers="+encodeURIComponent(String(tr(z)))+"&"+f:this.m&&Sr(g,this.m,z)),ao(this.h,L),this.Ua&&be(g,"TYPE","init"),this.P?(be(g,"$req",f),be(g,"SID","null"),L.T=!0,Wi(L,g,null)):Wi(L,g,f),this.G=2}}else this.G==3&&(l?es(this,l):this.i.length==0||Xt(this.h)||es(this))};function es(l,f){var g;f?g=f.l:g=l.U++;const v=Yt(l.I);be(v,"SID",l.K),be(v,"RID",g),be(v,"AID",l.T),nr(l,v),l.m&&l.o&&Sr(v,l.m,l.o),g=new En(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Ar(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ao(l.h,g),Wi(g,v,f)}function nr(l,f){l.H&&ke(l.H,function(g,v){be(f,v,g)}),l.l&&_r({},function(g,v){be(f,v,g)})}function Ar(l,f,g){g=Math.min(l.i.length,g);var v=l.l?F(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const Y=["count="+g];z==-1?0<g?(z=L[0].g,Y.push("ofs="+z)):z=0:Y.push("ofs="+z);let Be=!0;for(let ct=0;ct<g;ct++){let Ne=L[ct].g;const yt=L[ct].map;if(Ne-=z,0>Ne)z=Math.max(0,L[ct].g-100),Be=!1;else try{Ea(yt,Y,"req"+Ne+"_")}catch{v&&v(yt)}}if(Be){v=Y.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,v}function fi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;we||Z(),X||(we(),X=!0),ue.add(f,l),l.v=0}}function ts(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(F(l.Fa,l),Ia(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ta(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(F(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),An(this),Ta(this))};function po(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ta(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Yt(l.qa);be(f,"RID","rpc"),be(f,"SID",l.K),be(f,"AID",l.T),be(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&be(f,"TO",l.ja),be(f,"TYPE","xmlhttp"),nr(l,f),l.m&&l.o&&Sr(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=wr(Yt(f)),g.m=null,g.P=!0,so(g,l)}i.Za=function(){this.C!=null&&(this.C=null,An(this),ts(this),nt(19))};function ns(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function rs(l,f){var g=null;if(l.g==f){ns(l),po(l),l.g=null;var v=2}else if(Ot(l.h,f))g=f.D,fa(l.h,f),v=1;else return;if(l.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;v=ri(),ut(v,new bi(v,g)),Un(l)}else fi(l);else if(L=f.s,L==3||L==0&&0<f.X||!(v==1&&gu(l,f)||v==2&&ts(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),L){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function Ia(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function rr(l,f){if(l.j.info("Error code "+f),f==2){var g=F(l.fb,l),v=l.Xa;const L=!v;v=new Zn(v||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ci(v,"https"),wr(v),L?fu(v.toString(),g):va(v.toString(),g)}else nt(2);l.G=0,l.l&&l.l.sa(f),Sa(l),Zi(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Sa(l){if(l.G=0,l.ka=[],l.l){const f=pa(l.h);(f.length!=0||l.i.length!=0)&&(H(l.ka,f),H(l.ka,l.i),l.h.i.length=0,J(l.i),l.i.length=0),l.l.ra()}}function Aa(l,f,g){var v=g instanceof Zn?Yt(g):new Zn(g);if(v.g!="")f&&(v.g=f+"."+v.g),vr(v,v.s);else{var L=m.location;v=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var z=new Zn(null);v&&ci(z,v),f&&(z.g=f),L&&vr(z,L),g&&(z.l=g),v=z}return g=l.D,f=l.ya,g&&f&&be(v,g,f),be(v,"VER",l.la),nr(l,v),v}function Ra(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ke(new er({eb:g})):new Ke(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mo(){}i=mo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function is(){}is.prototype.g=function(l,f){return new Ft(l,f)};function Ft(l,f){lt.call(this),this.g=new fo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!Ie(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Ie(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new zn(this)}G(Ft,lt),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){It(this.g)},Ft.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ys(l),l=g);f.i.push(new ha(f.Ya++,l)),f.G==3&&Un(f)},Ft.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,Ft.aa.N.call(this)};function Ca(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}G(Ca,Nn);function Pa(){Bi.call(this),this.status=1}G(Pa,Bi);function zn(l){this.g=l}G(zn,mo),zn.prototype.ua=function(){ut(this.g,"a")},zn.prototype.ta=function(l){ut(this.g,new Ca(l))},zn.prototype.sa=function(l){ut(this.g,new Pa)},zn.prototype.ra=function(){ut(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Im=function(){return new is},Tm=function(){return ri()},wm=Ln,nh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Pl=qi,aa.COMPLETE="complete",Em=aa,ji.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,jo=ji,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,vm=Ke}).apply(typeof Tl<"u"?Tl:typeof self<"u"?self:typeof window<"u"?window:{});const Ip="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new dm("@firebase/firestore");function Rs(){return xi.logLevel}function te(i,...e){if(xi.logLevel<=Me.DEBUG){const n=e.map(wh);xi.debug(`Firestore (${js}): ${i}`,...n)}}function fr(i,...e){if(xi.logLevel<=Me.ERROR){const n=e.map(wh);xi.error(`Firestore (${js}): ${i}`,...n)}}function Ds(i,...e){if(xi.logLevel<=Me.WARN){const n=e.map(wh);xi.warn(`Firestore (${js}): ${i}`,...n)}}function wh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(i="Unexpected state"){const e=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+i;throw fr(e),new Error(e)}function je(i,e){i||ge()}function Ee(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Av{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Rv{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let s=this.i;const a=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const _=c;e.enqueueRetryable(async()=>{await _.promise,await a(this.currentUser)})},m=_=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string"),new Sm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Lt(e)}}class Cv{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Pv{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Cv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new kv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Vv(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Ns(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new pt(0,0))}static max(){return new ve(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(),s===void 0?s=e.length-n:s>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Go.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),d=n.get(a);if(c<d)return-1;if(c>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Go{construct(e,n,s){return new Xe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const Dv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Go{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return Dv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,a+=2}else m==="`"?(d=!d,a++):m!=="."||d?(s+=m,a++):(c(),a++)}if(c(),d)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Xe.fromString(e))}static fromName(e){return new fe(Xe.fromString(e).popFirst(5))}static empty(){return new fe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Xe(e.slice()))}}function Nv(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ve.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Wr(a,fe.empty(),e)}function Lv(i){return new Wr(i.readTime,i.key,-1)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(ve.min(),fe.empty(),-1)}static max(){return new Wr(ve.max(),fe.empty(),-1)}}function Mv(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==Ov)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let a=0,c=0,d=!1;e.forEach(m=>{++a,m.next(()=>{++c,d&&c===a&&n()},_=>s(_))}),d=!0,c===a&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(a=>a?B.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new B((s,a)=>{const c=e.length,d=new Array(c);let m=0;for(let _=0;_<c;_++){const E=_;n(e[E]).next(I=>{d[E]=I,++m,m===c&&s(d)},I=>a(I))}})}static doWhile(e,n){return new B((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Uv(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ql.oe=-1;function Kl(i){return i==null}function Fl(i){return i===0&&1/i==-1/0}function zv(i){return typeof i=="number"&&Number.isInteger(i)&&!Fl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Sp(e)),e=Bv(i.get(n),e);return Sp(e)}function Bv(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Sp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Yr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Rm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=c??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Rt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rp(this.data.getIterator())}getIteratorFrom(e){return new Rp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Rp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new rn([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Cm("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const bv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(i){if(je(!!i),typeof i=="string"){let e=0;const n=bv.exec(i);if(je(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Kr(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gl(i){const e=i.mapValue.fields.__previous_value__;return Th(e)?Gl(e):e}function Xo(i){const e=Qr(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,s,a,c,d,m,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=E}}class Yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Th(i)?4:Hv(i)?9007199254740991:qv(i)?10:11:ge()}function Wn(i,e){if(i===e)return!0;const n=Gr(i);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xo(i).isEqual(Xo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=Qr(a.timestampValue),m=Qr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Kr(a.bytesValue).isEqual(Kr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=it(a.doubleValue),m=it(c.doubleValue);return d===m?Fl(d)===Fl(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return Ns(i.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(a,c){const d=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Ap(d)!==Ap(m))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(m[_]===void 0||!Wn(d[_],m[_])))return!1;return!0}(i,e);default:return ge()}}function Jo(i,e){return(i.values||[]).find(n=>Wn(n,e))!==void 0}function Ls(i,e){if(i===e)return 0;const n=Gr(i),s=Gr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(c,d){const m=it(c.integerValue||c.doubleValue),_=it(d.integerValue||d.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1}(i,e);case 3:return Cp(i.timestampValue,e.timestampValue);case 4:return Cp(Xo(i),Xo(e));case 5:return Ve(i.stringValue,e.stringValue);case 6:return function(c,d){const m=Kr(c),_=Kr(d);return m.compareTo(_)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),_=d.split("/");for(let E=0;E<m.length&&E<_.length;E++){const I=Ve(m[E],_[E]);if(I!==0)return I}return Ve(m.length,_.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Ve(it(c.latitude),it(d.latitude));return m!==0?m:Ve(it(c.longitude),it(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Pp(i.arrayValue,e.arrayValue);case 10:return function(c,d){var m,_,E,I;const V=c.fields||{},F=d.fields||{},j=(m=V.value)===null||m===void 0?void 0:m.arrayValue,G=(_=F.value)===null||_===void 0?void 0:_.arrayValue,J=Ve(((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0,((I=G==null?void 0:G.values)===null||I===void 0?void 0:I.length)||0);return J!==0?J:Pp(j,G)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===Sl.mapValue&&d===Sl.mapValue)return 0;if(c===Sl.mapValue)return 1;if(d===Sl.mapValue)return-1;const m=c.fields||{},_=Object.keys(m),E=d.fields||{},I=Object.keys(E);_.sort(),I.sort();for(let V=0;V<_.length&&V<I.length;++V){const F=Ve(_[V],I[V]);if(F!==0)return F;const j=Ls(m[_[V]],E[I[V]]);if(j!==0)return j}return Ve(_.length,I.length)}(i.mapValue,e.mapValue);default:throw ge()}}function Cp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=Qr(i),s=Qr(e),a=Ve(n.seconds,s.seconds);return a!==0?a:Ve(n.nanos,s.nanos)}function Pp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ls(n[a],s[a]);if(c)return c}return Ve(n.length,s.length)}function Ms(i){return rh(i)}function rh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Kr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return fe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=rh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${rh(n.fields[d])}`;return a+"}"}(i.mapValue):ge()}function kl(i){switch(Gr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gl(i);return e?16+kl(e):16;case 5:return 2*i.stringValue.length;case 6:return Kr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+kl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Yr(s.fields,(c,d)=>{a+=c.length+kl(d)}),a}(i.mapValue);default:throw ge()}}function ih(i){return!!i&&"integerValue"in i}function Ih(i){return!!i&&"arrayValue"in i}function kp(i){return!!i&&"nullValue"in i}function xp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xl(i){return!!i&&"mapValue"in i}function qv(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function $o(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Yr(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$o(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$o(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Hv(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!xl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$o(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=m.popLast()}d?s[m.lastSegment()]=$o(d):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());xl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];xl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Yr(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Gt($o(this.value))}}function Pm(i){const e=[];return Yr(i.fields,(n,s)=>{const a=new Ct([n]);if(xl(s)){const c=Pm(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,a,c,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,ve.min(),ve.min(),ve.min(),Gt.empty(),0)}static newFoundDocument(e,n,s,a){return new Mt(e,1,n,ve.min(),s,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,ve.min(),ve.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ve.min(),ve.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.position=e,this.inclusive=n}}function Vp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?s=fe.comparator(fe.fromName(d.referenceValue),n.key):s=Ls(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Dp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wv(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{}class ft extends km{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Kv(e,n,s):n==="array-contains"?new Yv(e,s):n==="in"?new Jv(e,s):n==="not-in"?new Zv(e,s):n==="array-contains-any"?new e0(e,s):new ft(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Gv(e,s):new Xv(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends km{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qn(e,n)}matches(e){return xm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xm(i){return i.op==="and"}function Vm(i){return Qv(i)&&xm(i)}function Qv(i){for(const e of i.filters)if(e instanceof Qn)return!1;return!0}function sh(i){if(i instanceof ft)return i.field.canonicalString()+i.op.toString()+Ms(i.value);if(Vm(i))return i.filters.map(e=>sh(e)).join(",");{const e=i.filters.map(n=>sh(n)).join(",");return`${i.op}(${e})`}}function Dm(i,e){return i instanceof ft?function(s,a){return a instanceof ft&&s.op===a.op&&s.field.isEqual(a.field)&&Wn(s.value,a.value)}(i,e):i instanceof Qn?function(s,a){return a instanceof Qn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,d,m)=>c&&Dm(d,a.filters[m]),!0):!1}(i,e):void ge()}function Nm(i){return i instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(i):i instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(Nm).join(" ,")+"}"}(i):"Filter"}class Kv extends ft{constructor(e,n,s){super(e,n,s),this.key=fe.fromName(s.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gv extends ft{constructor(e,n){super(e,"in",n),this.keys=Lm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Xv extends ft{constructor(e,n){super(e,"not-in",n),this.keys=Lm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Lm(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>fe.fromName(s.referenceValue))}class Yv extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ih(n)&&Jo(n.arrayValue,this.value)}}class Jv extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jo(this.value.arrayValue,n)}}class Zv extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jo(this.value.arrayValue,n)}}class e0 extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ih(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n=null,s=[],a=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=m,this.ue=null}}function Np(i,e=null,n=[],s=[],a=null,c=null,d=null){return new t0(i,e,n,s,a,c,d)}function Sh(i){const e=Ee(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>sh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Kl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ms(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ms(s)).join(",")),e.ue=n}return e.ue}function Ah(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Wv(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Dm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Dp(i.startAt,e.startAt)&&Dp(i.endAt,e.endAt)}function oh(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n=null,s=[],a=[],c=null,d="F",m=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function n0(i,e,n,s,a,c,d,m){return new Xl(i,e,n,s,a,c,d,m)}function Mm(i){return new Xl(i)}function Lp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function r0(i){return i.collectionGroup!==null}function qo(i){const e=Ee(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new mt(Ct.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(E=>{E.isInequality()&&(m=m.add(E.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new zl(c,s))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new zl(Ct.keyField(),s))}return e.ce}function qn(i){const e=Ee(i);return e.le||(e.le=i0(e,qo(i))),e.le}function i0(i,e){if(i.limitType==="F")return Np(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new zl(a.field,c)});const n=i.endAt?new Ul(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ul(i.startAt.position,i.startAt.inclusive):null;return Np(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ah(i,e,n){return new Xl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yl(i,e){return Ah(qn(i),qn(e))&&i.limitType===e.limitType}function Om(i){return`${Sh(qn(i))}|lt:${i.limitType}`}function Cs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Nm(a)).join(", ")}]`),Kl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ms(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ms(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function Jl(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):fe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of qo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(d,m,_){const E=Vp(d,m,_);return d.inclusive?E<=0:E<0}(s.startAt,qo(s),a)||s.endAt&&!function(d,m,_){const E=Vp(d,m,_);return d.inclusive?E>=0:E>0}(s.endAt,qo(s),a))}(i,e)}function s0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Fm(i){return(e,n)=>{let s=!1;for(const a of qo(i)){const c=o0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function o0(i,e,n){const s=i.field.isKeyField()?fe.comparator(e.key,n.key):function(c,d,m){const _=d.data.field(c),E=m.data.field(c);return _!==null&&E!==null?Ls(_,E):ge()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Rm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new et(fe.comparator);function pr(){return a0}const Um=new et(fe.comparator);function Bo(...i){let e=Um;for(const n of i)e=e.insert(n.key,n);return e}function zm(i){let e=Um;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Pi(){return Ho()}function jm(){return Ho()}function Ho(){return new Di(i=>i.toString(),(i,e)=>i.isEqual(e))}const l0=new et(fe.comparator),u0=new mt(fe.comparator);function Pe(...i){let e=u0;for(const n of i)e=e.add(n);return e}const c0=new mt(Ve);function h0(){return c0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(e)?"-0":e}}function Bm(i){return{integerValue:""+i}}function d0(i,e){return zv(e)?Bm(e):Rh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this._=void 0}}function f0(i,e,n){return i instanceof jl?function(a,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Th(c)&&(c=Gl(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(n,e):i instanceof Zo?$m(i,e):i instanceof ea?qm(i,e):function(a,c){const d=bm(a,c),m=Mp(d)+Mp(a.Pe);return ih(d)&&ih(a.Pe)?Bm(m):Rh(a.serializer,m)}(i,e)}function p0(i,e,n){return i instanceof Zo?$m(i,e):i instanceof ea?qm(i,e):n}function bm(i,e){return i instanceof Bl?function(s){return ih(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class jl extends Zl{}class Zo extends Zl{constructor(e){super(),this.elements=e}}function $m(i,e){const n=Hm(e);for(const s of i.elements)n.some(a=>Wn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ea extends Zl{constructor(e){super(),this.elements=e}}function qm(i,e){let n=Hm(e);for(const s of i.elements)n=n.filter(a=>!Wn(a,s));return{arrayValue:{values:n}}}class Bl extends Zl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Mp(i){return it(i.integerValue||i.doubleValue)}function Hm(i){return Ih(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function m0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Zo&&a instanceof Zo||s instanceof ea&&a instanceof ea?Ns(s.elements,a.elements,Wn):s instanceof Bl&&a instanceof Bl?Wn(s.Pe,a.Pe):s instanceof jl&&a instanceof jl}(i.transform,e.transform)}class g0{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class eu{}function Wm(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ch(i.key,Dn.none()):new ta(i.key,i.data,Dn.none());{const n=i.data,s=Gt.empty();let a=new mt(Ct.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new Jr(i.key,s,new rn(a.toArray()),Dn.none())}}function y0(i,e,n){i instanceof ta?function(a,c,d){const m=a.value.clone(),_=Fp(a.fieldTransforms,c,d.transformResults);m.setAll(_),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Jr?function(a,c,d){if(!Vl(a.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Fp(a.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(Qm(a)),_.setAll(m),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,e,n):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Wo(i,e,n,s){return i instanceof ta?function(c,d,m,_){if(!Vl(c.precondition,d))return m;const E=c.value.clone(),I=Up(c.fieldTransforms,_,d);return E.setAll(I),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof Jr?function(c,d,m,_){if(!Vl(c.precondition,d))return m;const E=Up(c.fieldTransforms,_,d),I=d.data;return I.setAll(Qm(c)),I.setAll(E),d.convertToFoundDocument(d.version,I).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(V=>V.field))}(i,e,n,s):function(c,d,m){return Vl(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function _0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=bm(s.transform,a||null);c!=null&&(n===null&&(n=Gt.empty()),n.set(s.field,c))}return n||null}function Op(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ns(s,a,(c,d)=>m0(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ta extends eu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jr extends eu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Qm(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Fp(i,e,n){const s=new Map;je(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],d=c.transform,m=e.data.field(c.field);s.set(c.field,p0(d,m,n[a]))}return s}function Up(i,e,n){const s=new Map;for(const a of i){const c=a.transform,d=n.data.field(a.field);s.set(a.field,f0(c,d,e))}return s}class Ch extends eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v0 extends eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&y0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jm();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(a.key)?null:m;const _=Wm(d,m);_!==null&&s.set(a.key,_),d.isValidDocument()||d.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(n,s)=>Op(n,s))&&Ns(this.baseMutations,e.baseMutations,(n,s)=>Op(n,s))}}class Ph{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){je(e.mutations.length===s.length);let a=function(){return l0}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new Ph(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Le;function I0(i){switch(i){default:return ge();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Km(i){if(i===void 0)return fr("GRPC error has no .code"),W.UNKNOWN;switch(i){case at.OK:return W.OK;case at.CANCELLED:return W.CANCELLED;case at.UNKNOWN:return W.UNKNOWN;case at.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case at.INTERNAL:return W.INTERNAL;case at.UNAVAILABLE:return W.UNAVAILABLE;case at.UNAUTHENTICATED:return W.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case at.NOT_FOUND:return W.NOT_FOUND;case at.ALREADY_EXISTS:return W.ALREADY_EXISTS;case at.PERMISSION_DENIED:return W.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case at.ABORTED:return W.ABORTED;case at.OUT_OF_RANGE:return W.OUT_OF_RANGE;case at.UNIMPLEMENTED:return W.UNIMPLEMENTED;case at.DATA_LOSS:return W.DATA_LOSS;default:return ge()}}(Le=at||(at={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new ki([4294967295,4294967295],0);function zp(i){const e=S0().encode(i),n=new _m;return n.update(e),new Uint8Array(n.digest())}function jp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ki([n,s],0),new ki([a,c],0)]}class kh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(s<0)throw new bo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ki.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(ki.fromNumber(s)));return a.compare(A0)===1&&(a=new ki([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=zp(e),[s,a]=jp(n);for(let c=0;c<this.hashCount;c++){const d=this.Ee(s,a,c);if(!this.de(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new kh(c,a,n);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Te===0)return;const n=zp(e),[s,a]=jp(n);for(let c=0;c<this.hashCount;c++){const d=this.Ee(s,a,c);this.Ae(d)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,na.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new tu(ve.min(),a,new et(Ve),pr(),Pe())}}class na{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new na(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Gm{constructor(e,n){this.targetId=e,this.me=n}}class Xm{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Bp{constructor(){this.fe=0,this.ge=bp(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),s=Pe();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ge()}}),new na(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=bp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class R0{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=Al(),this.Qe=Al(),this.Ke=new et(Ve)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(oh(c))if(s===0){const d=new fe(c.path);this.We(n,d,Mt.newNoDocument(d,ve.min()))}else je(s===1);else{const d=this.Ze(n);if(d!==s){const m=this.Xe(e),_=m?this.et(m,e,d):1;if(_!==0){this.He(n);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,E)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let d,m;try{d=Kr(s).toUint8Array()}catch(_){if(_ instanceof Cm)return Ds("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{m=new kh(d,a,c)}catch(_){return Ds(_ instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const d=this.Le.nt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,d)=>{const m=this.Ye(d);if(m){if(c.current&&oh(m.target)){const _=new fe(m.target.path);this.st(_).has(d)||this.ot(d,_)||this.We(d,_,Mt.newNoDocument(_,e))}c.be&&(n.set(d,c.ve()),c.Ce())}});let s=Pe();this.Qe.forEach((c,d)=>{let m=!0;d.forEachWhile(_=>{const E=this.Ye(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(e));const a=new tu(e,n,this.Ke,this.ke,s);return this.ke=pr(),this.qe=Al(),this.Qe=Al(),this.Ke=new et(Ve),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Bp,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(Ve),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(Ve),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Bp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Al(){return new et(fe.comparator)}function bp(){return new et(fe.comparator)}const C0={asc:"ASCENDING",desc:"DESCENDING"},P0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k0={and:"AND",or:"OR"};class x0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lh(i,e){return i.useProto3Json||Kl(e)?e:{value:e}}function bl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ym(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function V0(i,e){return bl(i,e.toTimestamp())}function Hn(i){return je(!!i),ve.fromTimestamp(function(n){const s=Qr(n);return new pt(s.seconds,s.nanos)}(i))}function xh(i,e){return uh(i,e).canonicalString()}function uh(i,e){const n=function(a){return new Xe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Jm(i){const e=Xe.fromString(i);return je(rg(e)),e}function ch(i,e){return xh(i.databaseId,e.path)}function Hc(i,e){const n=Jm(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new fe(eg(n))}function Zm(i,e){return xh(i.databaseId,e)}function D0(i){const e=Jm(i);return e.length===4?Xe.emptyPath():eg(e)}function hh(i){return new Xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function eg(i){return je(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function $p(i,e,n){return{name:ch(i,e),fields:n.value.mapValue.fields}}function N0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,I){return E.useProto3Json?(je(I===void 0||typeof I=="string"),Pt.fromBase64String(I||"")):(je(I===void 0||I instanceof Buffer||I instanceof Uint8Array),Pt.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(E){const I=E.code===void 0?W.UNKNOWN:Km(E.code);return new ce(I,E.message||"")}(d);n=new Xm(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Hc(i,s.document.name),c=Hn(s.document.updateTime),d=s.document.createTime?Hn(s.document.createTime):ve.min(),m=new Gt({mapValue:{fields:s.document.fields}}),_=Mt.newFoundDocument(a,c,d,m),E=s.targetIds||[],I=s.removedTargetIds||[];n=new Dl(E,I,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Hc(i,s.document),c=s.readTime?Hn(s.readTime):ve.min(),d=Mt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Dl([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Hc(i,s.document),c=s.removedTargetIds||[];n=new Dl([],c,a,null)}else{if(!("filter"in e))return ge();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new T0(a,c),m=s.targetId;n=new Gm(m,d)}}return n}function L0(i,e){let n;if(e instanceof ta)n={update:$p(i,e.key,e.value)};else if(e instanceof Ch)n={delete:ch(i,e.key)};else if(e instanceof Jr)n={update:$p(i,e.key,e.data),updateMask:$0(e.fieldMask)};else{if(!(e instanceof v0))return ge();n={verify:ch(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof jl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ea)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bl)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw ge()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:V0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge()}(i,e.precondition)),n}function M0(i,e){return i&&i.length>0?(je(e!==void 0),i.map(n=>function(a,c){let d=a.updateTime?Hn(a.updateTime):Hn(c);return d.isEqual(ve.min())&&(d=Hn(c)),new g0(d,a.transformResults||[])}(n,e))):[]}function O0(i,e){return{documents:[Zm(i,e.path)]}}function F0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Zm(i,a);const c=function(E){if(E.length!==0)return ng(Qn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(E){if(E.length!==0)return E.map(I=>function(F){return{field:Ps(F.field),direction:j0(F.dir)}}(I))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=lh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:n,parent:a}}function U0(i){let e=D0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){je(s===1);const I=n.from[0];I.allDescendants?a=I.collectionId:e=e.child(I.collectionId)}let c=[];n.where&&(c=function(V){const F=tg(V);return F instanceof Qn&&Vm(F)?F.getFilters():[F]}(n.where));let d=[];n.orderBy&&(d=function(V){return V.map(F=>function(G){return new zl(ks(G.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(F))}(n.orderBy));let m=null;n.limit&&(m=function(V){let F;return F=typeof V=="object"?V.value:V,Kl(F)?null:F}(n.limit));let _=null;n.startAt&&(_=function(V){const F=!!V.before,j=V.values||[];return new Ul(j,F)}(n.startAt));let E=null;return n.endAt&&(E=function(V){const F=!V.before,j=V.values||[];return new Ul(j,F)}(n.endAt)),n0(e,a,d,c,m,"F",_,E)}function z0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ks(n.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ks(n.unaryFilter.field);return ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ks(n.unaryFilter.field);return ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ks(n.unaryFilter.field);return ft.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(i):i.fieldFilter!==void 0?function(n){return ft.create(ks(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>tg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(i):ge()}function j0(i){return C0[i]}function B0(i){return P0[i]}function b0(i){return k0[i]}function Ps(i){return{fieldPath:i.canonicalString()}}function ks(i){return Ct.fromServerFormat(i.fieldPath)}function ng(i){return i instanceof ft?function(n){if(n.op==="=="){if(xp(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(kp(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xp(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(kp(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:B0(n.op),value:n.value}}}(i):i instanceof Qn?function(n){const s=n.getFilters().map(a=>ng(a));return s.length===1?s[0]:{compositeFilter:{op:b0(n.op),filters:s}}}(i):ge()}function $0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,a,c=ve.min(),d=ve.min(),m=Pt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.ht=e}}function H0(i){const e=U0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.ln=new Q0}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Wr.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class Q0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Xe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Os(0)}static Qn(){return new Os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp([i,e],[n,s]){const a=Ve(i,n);return a===0?Ve(e,s):a}class K0{constructor(e){this.Gn=e,this.buffer=new mt(Hp),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Hp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class G0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bs(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Bs(n)}await this.Yn(3e5)})}}class X0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Ql.oe);const s=new K0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(qp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,d,m,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),a=this.params.maximumSequenceNumbersToCollect):a=V,d=Date.now(),this.nthSequenceNumber(e,a))).next(V=>(s=V,m=Date.now(),this.removeTargets(e,s,n))).next(V=>(c=V,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(E=Date.now(),Rs()<=Me.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-I}ms
	Determined least recently used ${a} in `+(m-d)+`ms
	Removed ${c} targets in `+(_-m)+`ms
	Removed ${V} documents in `+(E-_)+`ms
Total Duration: ${E-I}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:V})))}}function Y0(i,e){return new X0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.changes=new Di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Wo(s.mutation,a,rn.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const a=Pi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let d=Bo();return c.forEach((m,_)=>{d=d.insert(m,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=Pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,s,a){let c=pr();const d=Ho(),m=function(){return Ho()}();return n.forEach((_,E)=>{const I=s.get(E.key);a.has(E.key)&&(I===void 0||I.mutation instanceof Jr)?c=c.insert(E.key,E):I!==void 0?(d.set(E.key,I.mutation.getFieldMask()),Wo(I.mutation,E,I.mutation.getFieldMask(),pt.now())):d.set(E.key,rn.empty())}),this.recalculateAndSaveOverlays(e,c).next(_=>(_.forEach((E,I)=>d.set(E,I)),n.forEach((E,I)=>{var V;return m.set(E,new Z0(I,(V=d.get(E))!==null&&V!==void 0?V:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ho();let a=new et((d,m)=>d-m),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(_=>{const E=n.get(_);if(E===null)return;let I=s.get(_)||rn.empty();I=m.applyToLocalView(E,I),s.set(_,I);const V=(a.get(m.batchId)||Pe()).add(_);a=a.insert(m.batchId,V)})}).next(()=>{const d=[],m=a.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),E=_.key,I=_.value,V=jm();I.forEach(F=>{if(!c.has(F)){const j=Wm(n.get(F),s.get(F));j!==null&&V.set(F,j),c=c.add(F)}}),d.push(this.documentOverlayCache.saveOverlays(e,E,V))}return B.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):B.resolve(Pi());let m=-1,_=c;return d.next(E=>B.forEach(E,(I,V)=>(m<V.largestBatchId&&(m=V.largestBatchId),c.get(I)?B.resolve():this.remoteDocumentCache.getEntry(e,I).next(F=>{_=_.insert(I,F)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,_,E,Pe())).next(I=>({batchId:m,changes:zm(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(s=>{let a=Bo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let d=Bo();return this.indexManager.getCollectionParents(e,c).next(m=>B.forEach(m,_=>{const E=function(V,F){return new Xl(F,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(I=>{I.forEach((V,F)=>{d=d.insert(V,F)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(d=>{c.forEach((_,E)=>{const I=E.getKey();d.get(I)===null&&(d=d.insert(I,Mt.newInvalidDocument(I)))});let m=Bo();return d.forEach((_,E)=>{const I=c.get(_);I!==void 0&&Wo(I.mutation,E,rn.empty(),pt.now()),Jl(n,E)&&(m=m.insert(_,E))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:H0(a.bundledQuery),readTime:Hn(a.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.overlays=new et(fe.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pi();return B.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const a=Pi(),c=n.length+1,d=new fe(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const _=m.getNext().value,E=_.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>s&&a.set(_.getKey(),_)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new et((E,I)=>E-I);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let I=c.get(E.largestBatchId);I===null&&(I=Pi(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const m=Pi(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,I)=>m.set(E,I)),!(m.size()>=a)););return B.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new w0(n,s));let c=this.Er.get(n);c===void 0&&(c=Pe(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.dr=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new fe(new Xe([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],d=>{this.gr(d),c.push(d.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new fe(new Xe([])),s=new wt(n,e),a=new wt(n,e+1);let c=Pe();return this.Rr.forEachInRange([s,a],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new wt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return fe.comparator(e.key,n.key)||Ve(e.br,n.br)}static Vr(e,n){return Ve(e.br,n.br)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new E0(c,n,s,a);this.mutationQueue.push(d);for(const m of a)this.vr=this.vr.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return B.resolve(d)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],d=>{const m=this.Cr(d.br);c.push(m)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(Ve);return n.forEach(a=>{const c=new wt(a,0),d=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,d],m=>{s=s.add(m.br)})}),B.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;fe.isDocumentKey(c)||(c=c.child(""));const d=new wt(new fe(c),0);let m=new mt(Ve);return this.vr.forEachWhile(_=>{const E=_.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(m=m.add(_.br)),!0)},d),B.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){je(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return B.forEach(n.mutations,a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.Nr=e,this.docs=function(){return new et(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,d=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mt.newInvalidDocument(a))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=pr();const d=n.path,m=new fe(d.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:E,value:{document:I}}=_.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||Mv(Lv(I),s)<=0||(a.has(I.key)||Jl(n,I))&&(c=c.insert(I.key,I.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ge()}Lr(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new oE(this)}getSize(e){return B.resolve(this.size)}}class oE extends J0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.persistence=e,this.Br=new Di(n=>Sh(n),Ah),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new Vh,this.targetCount=0,this.Qr=Os.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Os(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),B.waitFor(c).next(()=>a)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Ql(0),this.Ur=!1,this.Ur=!0,this.Wr=new rE,this.referenceDelegate=e(this),this.Gr=new aE(this),this.indexManager=new W0,this.remoteDocumentCache=function(a){return new sE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new q0(n),this.jr=new tE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new iE(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new lE(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return B.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class lE extends Fv{constructor(e){super(),this.currentSequenceNumber=e}}class Dh{constructor(e){this.persistence=e,this.Zr=new Vh,this.Xr=null}static ei(e){return new Dh(e)}get ti(){if(this.Xr)return this.Xr;throw ge()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,s=>{const a=fe.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,ve.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class $l{constructor(e,n){this.persistence=e,this.ri=new Di(s=>jv(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=Y0(this,n)}static ei(e,n){return new $l(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?B.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,d=>this.ir(e,d,n).next(m=>{m||(s++,c.removeEntry(d,ve.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kl(e.data.value)),n}ir(e,n,s){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Pe(),a=Pe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Nh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return l_()?8:Uv(o_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new uE;return this.ts(e,n,d).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,d,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Rs()<=Me.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(Rs()<=Me.DEBUG&&te("QueryEngine","Query:",Cs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Rs()<=Me.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):B.resolve())}Xi(e,n){if(Lp(n))return B.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ah(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Pe(...c);return this.Zi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(_=>{const E=this.rs(n,m);return this.ss(n,E,d,_.readTime)?this.Xi(e,ah(n,null,"F")):this.os(e,E,n,_)}))})))}es(e,n,s,a){return Lp(n)||a.isEqual(ve.min())?B.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const d=this.rs(n,c);return this.ss(n,d,s,a)?B.resolve(null):(Rs()<=Me.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cs(n)),this.os(e,d,n,Nv(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(Fm(e));return n.forEach((a,c)=>{Jl(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Rs()<=Me.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Cs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Wr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new et(Ve),this.cs=new Di(c=>Sh(c),Ah),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function dE(i,e,n,s){return new hE(i,e,n,s)}async function sg(i,e){const n=Ee(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let _=Pe();for(const E of a){d.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of c){m.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return n.localDocuments.getDocuments(s,_).next(E=>({Ts:E,removedBatchIds:d,addedBatchIds:m}))})})}function fE(i,e){const n=Ee(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,_,E,I){const V=E.batch,F=V.keys();let j=B.resolve();return F.forEach(G=>{j=j.next(()=>I.getEntry(_,G)).next(J=>{const H=E.docVersions.get(G);je(H!==null),J.version.compareTo(H)<0&&(V.applyToRemoteDocument(J,E),J.isValidDocument()&&(J.setReadTime(E.commitVersion),I.addEntry(J)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(_,V))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let _=Pe();for(let E=0;E<m.mutationResults.length;++E)m.mutationResults[E].transformResults.length>0&&(_=_.add(m.batch.mutations[E].key));return _}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function og(i){const e=Ee(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function pE(i,e){const n=Ee(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((I,V)=>{const F=a.get(V);if(!F)return;m.push(n.Gr.removeMatchingKeys(c,I.removedDocuments,V).next(()=>n.Gr.addMatchingKeys(c,I.addedDocuments,V)));let j=F.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(V)!==null?j=j.withResumeToken(Pt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):I.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(I.resumeToken,s)),a=a.insert(V,j),function(J,H,Te){return J.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8?!0:Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0}(F,j,I)&&m.push(n.Gr.updateTargetData(c,j))});let _=pr(),E=Pe();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,I))}),m.push(mE(c,d,e.documentUpdates).next(I=>{_=I.Is,E=I.Es})),!s.isEqual(ve.min())){const I=n.Gr.getLastRemoteSnapshotVersion(c).next(V=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(I)}return B.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,_,E)).next(()=>_)}).then(c=>(n.us=a,c))}function mE(i,e,n){let s=Pe(),a=Pe();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=pr();return n.forEach((m,_)=>{const E=c.get(m);_.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(m)),_.isNoDocument()&&_.version.isEqual(ve.min())?(e.removeEntry(m,_.readTime),d=d.insert(m,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),d=d.insert(m,_)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",_.version)}),{Is:d,Es:a}})}function gE(i,e){const n=Ee(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function yE(i,e){const n=Ee(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,B.resolve(a)):n.Gr.allocateTargetId(s).next(d=>(a=new jr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function dh(i,e,n){const s=Ee(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!bs(d))throw d;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Wp(i,e,n){const s=Ee(i);let a=ve.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,E,I){const V=Ee(_),F=V.cs.get(I);return F!==void 0?B.resolve(V.us.get(F)):V.Gr.getTargetData(E,I)}(s,d,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(d,m.targetId).next(_=>{c=_})}).next(()=>s._s.getDocumentsMatchingQuery(d,e,n?a:ve.min(),n?c:Pe())).next(m=>(_E(s,s0(e),m),{documents:m,ds:c})))}function _E(i,e,n){let s=i.ls.get(e)||ve.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Qp{constructor(){this.activeTargetIds=h0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vE{constructor(){this._o=new Qp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Qp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=null;function Wc(){return Rl===null?Rl=function(){return 268435456+Math.round(2147483648*Math.random())}():Rl++,"0x"+Rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class IE extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,d){const m=Wc(),_=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,_,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,d),this.Bo(n,_,E,a).then(I=>(te("RestConnection",`Received RPC '${n}' ${m}: `,I),I),I=>{throw Ds("RestConnection",`RPC '${n}' ${m} failed with error: `,I,"url: ",_,"request:",a),I})}ko(n,s,a,c,d,m){return this.Oo(n,s,a,c,d)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,d)=>n[d]=c),a&&a.headers.forEach((c,d)=>n[d]=c)}No(n,s){const a=wE[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=Wc();return new Promise((d,m)=>{const _=new vm;_.setWithCredentials(!0),_.listenOnce(Em.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Pl.NO_ERROR:const I=_.getResponseJson();te(Nt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(I)),d(I);break;case Pl.TIMEOUT:te(Nt,`RPC '${e}' ${c} timed out`),m(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const V=_.getStatus();if(te(Nt,`RPC '${e}' ${c} failed with status:`,V,"response text:",_.getResponseText()),V>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const j=F==null?void 0:F.error;if(j&&j.status&&j.message){const G=function(H){const Te=H.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Te)>=0?Te:W.UNKNOWN}(j.status);m(new ce(G,j.message))}else m(new ce(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new ce(W.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{te(Nt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(a);te(Nt,`RPC '${e}' ${c} sending request:`,a),_.send(n,"POST",E,s,15)})}qo(e,n,s){const a=Wc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Im(),m=Tm(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Lo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const I=c.join("");te(Nt,`Creating RPC '${e}' stream ${a}: ${I}`,_);const V=d.createWebChannel(I,_);let F=!1,j=!1;const G=new TE({Eo:H=>{j?te(Nt,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(F||(te(Nt,`Opening RPC '${e}' stream ${a} transport.`),V.open(),F=!0),te(Nt,`RPC '${e}' stream ${a} sending:`,H),V.send(H))},Ao:()=>V.close()}),J=(H,Te,Ie)=>{H.listen(Te,ye=>{try{Ie(ye)}catch(Se){setTimeout(()=>{throw Se},0)}})};return J(V,jo.EventType.OPEN,()=>{j||(te(Nt,`RPC '${e}' stream ${a} transport opened.`),G.So())}),J(V,jo.EventType.CLOSE,()=>{j||(j=!0,te(Nt,`RPC '${e}' stream ${a} transport closed`),G.Do())}),J(V,jo.EventType.ERROR,H=>{j||(j=!0,Ds(Nt,`RPC '${e}' stream ${a} transport errored:`,H),G.Do(new ce(W.UNAVAILABLE,"The operation could not be completed")))}),J(V,jo.EventType.MESSAGE,H=>{var Te;if(!j){const Ie=H.data[0];je(!!Ie);const ye=Ie,Se=(ye==null?void 0:ye.error)||((Te=ye[0])===null||Te===void 0?void 0:Te.error);if(Se){te(Nt,`RPC '${e}' stream ${a} received error:`,Se);const Ye=Se.status;let ke=function(A){const C=at[A];if(C!==void 0)return Km(C)}(Ye),k=Se.message;ke===void 0&&(ke=W.INTERNAL,k="Unknown error status: "+Ye+" with message "+Se.message),j=!0,G.Do(new ce(ke,k)),V.close()}else te(Nt,`RPC '${e}' stream ${a} received:`,Ie),G.vo(Ie)}}),J(m,wm.STAT_EVENT,H=>{H.stat===nh.PROXY?te(Nt,`RPC '${e}' stream ${a} detected buffering proxy`):H.stat===nh.NOPROXY&&te(Nt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{G.bo()},0),G}}function Qc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){return new x0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s,a,c,d,m,_){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ag(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ce(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SE extends lg{constructor(e,n,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=N0(this.serializer,e),s=function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?Hn(d.readTime):ve.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=hh(this.serializer),n.addTarget=function(c,d){let m;const _=d.target;if(m=oh(_)?{documents:O0(c,_)}:{query:F0(c,_).ct},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Ym(c,d.resumeToken);const E=lh(c,d.expectedCount);E!==null&&(m.expectedCount=E)}else if(d.snapshotVersion.compareTo(ve.min())>0){m.readTime=bl(c,d.snapshotVersion.toTimestamp());const E=lh(c,d.expectedCount);E!==null&&(m.expectedCount=E)}return m}(this.serializer,e);const s=z0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=hh(this.serializer),n.removeTarget=e,this.c_(n)}}class AE extends lg{constructor(e,n,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=M0(e.writeResults,e.commitTime),s=Hn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=hh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>L0(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Oo(e,uh(n,s),a,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(W.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.ko(e,uh(n,s),a,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(W.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class CE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(fr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(d=>{s.enqueueAndForget(async()=>{Ni(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(_){const E=Ee(_);E.k_.add(4),await ra(E),E.K_.set("Unknown"),E.k_.delete(4),await ru(E)}(this))})}),this.K_=new CE(s,a)}}async function ru(i){if(Ni(i))for(const e of i.q_)await e(!0)}async function ra(i){for(const e of i.q_)await e(!1)}function ug(i,e){const n=Ee(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Fh(n)?Oh(n):$s(n).s_()&&Mh(n,e))}function Lh(i,e){const n=Ee(i),s=$s(n);n.B_.delete(e),s.s_()&&cg(n,e),n.B_.size===0&&(s.s_()?s.a_():Ni(n)&&n.K_.set("Unknown"))}function Mh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$s(i).V_(e)}function cg(i,e){i.U_.xe(e),$s(i).m_(e)}function Oh(i){i.U_=new R0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),$s(i).start(),i.K_.F_()}function Fh(i){return Ni(i)&&!$s(i).i_()&&i.B_.size>0}function Ni(i){return Ee(i).k_.size===0}function hg(i){i.U_=void 0}async function kE(i){i.K_.set("Online")}async function xE(i){i.B_.forEach((e,n)=>{Mh(i,e)})}async function VE(i,e){hg(i),Fh(i)?(i.K_.O_(e),Oh(i)):i.K_.set("Unknown")}async function DE(i,e,n){if(i.K_.set("Online"),e instanceof Xm&&e.state===2&&e.cause)try{await async function(a,c){const d=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,d),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ql(i,s)}else if(e instanceof Dl?i.U_.$e(e):e instanceof Gm?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(ve.min()))try{const s=await og(i.localStore);n.compareTo(s)>=0&&await function(c,d){const m=c.U_.it(d);return m.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const I=c.B_.get(E);I&&c.B_.set(E,I.withResumeToken(_.resumeToken,d))}}),m.targetMismatches.forEach((_,E)=>{const I=c.B_.get(_);if(!I)return;c.B_.set(_,I.withResumeToken(Pt.EMPTY_BYTE_STRING,I.snapshotVersion)),cg(c,_);const V=new jr(I.target,_,E,I.sequenceNumber);Mh(c,V)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await ql(i,s)}}async function ql(i,e,n){if(!bs(e))throw e;i.k_.add(1),await ra(i),i.K_.set("Offline"),n||(n=()=>og(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await ru(i)})}function dg(i,e){return e().catch(n=>ql(i,n,e))}async function iu(i){const e=Ee(i),n=Xr(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;NE(e);)try{const a=await gE(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,LE(e,a)}catch(a){await ql(e,a)}fg(e)&&pg(e)}function NE(i){return Ni(i)&&i.L_.length<10}function LE(i,e){i.L_.push(e);const n=Xr(i);n.s_()&&n.f_&&n.g_(e.mutations)}function fg(i){return Ni(i)&&!Xr(i).i_()&&i.L_.length>0}function pg(i){Xr(i).start()}async function ME(i){Xr(i).w_()}async function OE(i){const e=Xr(i);for(const n of i.L_)e.g_(n.mutations)}async function FE(i,e,n){const s=i.L_.shift(),a=Ph.from(s,e,n);await dg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await iu(i)}async function UE(i,e){e&&Xr(i).f_&&await async function(s,a){if(function(d){return I0(d)&&d!==W.ABORTED}(a.code)){const c=s.L_.shift();Xr(s).__(),await dg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await iu(s)}}(i,e),fg(i)&&pg(i)}async function Gp(i,e){const n=Ee(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=Ni(n);n.k_.add(3),await ra(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ru(n)}async function zE(i,e){const n=Ee(i);e?(n.k_.delete(2),await ru(n)):e||(n.k_.add(2),await ra(n),n.K_.set("Unknown"))}function $s(i){return i.W_||(i.W_=function(n,s,a){const c=Ee(n);return c.b_(),new SE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:kE.bind(null,i),mo:xE.bind(null,i),po:VE.bind(null,i),R_:DE.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Fh(i)?Oh(i):i.K_.set("Unknown")):(await i.W_.stop(),hg(i))})),i.W_}function Xr(i){return i.G_||(i.G_=function(n,s,a){const c=Ee(n);return c.b_(),new AE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:ME.bind(null,i),po:UE.bind(null,i),p_:OE.bind(null,i),y_:FE.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await iu(i)):(await i.G_.stop(),i.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const d=Date.now()+s,m=new Uh(e,n,d,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zh(i,e){if(fr("AsyncQueue",`${e}: ${i}`),bs(i))return new ce(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||fe.comparator(n.key,s.key):(n,s)=>fe.comparator(n.key,s.key),this.keyedMap=Bo(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.z_=new et(fe.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ge():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Fs{constructor(e,n,s,a,c,d,m,_,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new Fs(e,n,Vs.emptySet(n),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class BE{constructor(){this.queries=Yp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ee(n),c=a.queries;a.queries=Yp(),c.forEach((d,m)=>{for(const _ of m.J_)_.onError(s)})})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function Yp(){return new Di(i=>Om(i),Yl)}async function bE(i,e){const n=Ee(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new jE,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const m=zh(d,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&jh(n)}async function $E(i,e){const n=Ee(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const d=c.J_.indexOf(e);d>=0&&(c.J_.splice(d,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function qE(i,e){const n=Ee(i);let s=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const m of d.J_)m.ta(a)&&(s=!0);d.H_=a}}s&&jh(n)}function HE(i,e,n){const s=Ee(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function jh(i){i.X_.forEach(e=>{e.next()})}var fh,Jp;(Jp=fh||(fh={})).na="default",Jp.Cache="cache";class WE{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Fs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==fh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.key=e}}class gg{constructor(e){this.key=e}}class QE{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pe(),this.mutatedKeys=Pe(),this.Va=Fm(e),this.ma=new Vs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Xp,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,m=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((I,V)=>{const F=a.get(I),j=Jl(this.query,V)?V:null,G=!!F&&this.mutatedKeys.has(F.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;F&&j?F.data.isEqual(j.data)?G!==J&&(s.track({type:3,doc:j}),H=!0):this.ya(F,j)||(s.track({type:2,doc:j}),H=!0,(_&&this.Va(j,_)>0||E&&this.Va(j,E)<0)&&(m=!0)):!F&&j?(s.track({type:0,doc:j}),H=!0):F&&!j&&(s.track({type:1,doc:F}),H=!0,(_||E)&&(m=!0)),H&&(j?(d=d.add(j),c=J?c.add(I):c.delete(I)):(d=d.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const I=this.query.limitType==="F"?d.last():d.first();d=d.delete(I.key),c=c.delete(I.key),s.track({type:1,doc:I})}return{ma:d,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((I,V)=>function(j,G){const J=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return J(j)-J(G)}(I.type,V.type)||this.Va(I.doc,V.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],_=this.Ra.size===0&&this.current&&!a?1:0,E=_!==this.Aa;return this.Aa=_,d.length!==0||E?{snapshot:new Fs(this.query,e.ma,c,d,e.mutatedKeys,_===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Xp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Pe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new gg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new mg(s))}),n}va(e){this.da=e.ds,this.Ra=Pe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Fs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class KE{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class GE{constructor(e){this.key=e,this.Fa=!1}}class XE{constructor(e,n,s,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new Di(m=>Om(m),Yl),this.Oa=new Map,this.Na=new Set,this.La=new et(fe.comparator),this.Ba=new Map,this.ka=new Vh,this.qa={},this.Qa=new Map,this.Ka=Os.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function YE(i,e,n=!0){const s=Tg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await yg(s,e,n,!0),a}async function JE(i,e){const n=Tg(i);await yg(n,e,!0,!1)}async function yg(i,e,n,s){const a=await yE(i.localStore,qn(e)),c=a.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await ZE(i,e,c,d==="current",a.resumeToken)),i.isPrimaryClient&&n&&ug(i.remoteStore,a),m}async function ZE(i,e,n,s,a){i.Ua=(V,F,j)=>async function(J,H,Te,Ie){let ye=H.view.ga(Te);ye.ss&&(ye=await Wp(J.localStore,H.query,!1).then(({documents:k})=>H.view.ga(k,ye)));const Se=Ie&&Ie.targetChanges.get(H.targetId),Ye=Ie&&Ie.targetMismatches.get(H.targetId)!=null,ke=H.view.applyChanges(ye,J.isPrimaryClient,Se,Ye);return em(J,H.targetId,ke.ba),ke.snapshot}(i,V,F,j);const c=await Wp(i.localStore,e,!0),d=new QE(e,c.ds),m=d.ga(c.documents),_=na.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=d.applyChanges(m,i.isPrimaryClient,_);em(i,n,E.ba);const I=new KE(e,n,d);return i.xa.set(e,I),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),E.snapshot}async function e1(i,e,n){const s=Ee(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(d=>!Yl(d,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await dh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Lh(s.remoteStore,a.targetId),ph(s,a.targetId)}).catch(Bs)):(ph(s,a.targetId),await dh(s.localStore,a.targetId,!0))}async function t1(i,e){const n=Ee(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lh(n.remoteStore,s.targetId))}async function n1(i,e,n){const s=u1(i);try{const a=await function(d,m){const _=Ee(d),E=pt.now(),I=m.reduce((j,G)=>j.add(G.key),Pe());let V,F;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let G=pr(),J=Pe();return _.hs.getEntries(j,I).next(H=>{G=H,G.forEach((Te,Ie)=>{Ie.isValidDocument()||(J=J.add(Te))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,G)).next(H=>{V=H;const Te=[];for(const Ie of m){const ye=_0(Ie,V.get(Ie.key).overlayedDocument);ye!=null&&Te.push(new Jr(Ie.key,ye,Pm(ye.value.mapValue),Dn.exists(!0)))}return _.mutationQueue.addMutationBatch(j,E,Te,m)}).next(H=>{F=H;const Te=H.applyToLocalDocumentSet(V,J);return _.documentOverlayCache.saveOverlays(j,H.batchId,Te)})}).then(()=>({batchId:F.batchId,changes:zm(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,m,_){let E=d.qa[d.currentUser.toKey()];E||(E=new et(Ve)),E=E.insert(m,_),d.qa[d.currentUser.toKey()]=E}(s,a.batchId,n),await ia(s,a.changes),await iu(s.remoteStore)}catch(a){const c=zh(a,"Failed to persist write");n.reject(c)}}async function _g(i,e){const n=Ee(i);try{const s=await pE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const d=n.Ba.get(c);d&&(je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.Fa=!0:a.modifiedDocuments.size>0?je(d.Fa):a.removedDocuments.size>0&&(je(d.Fa),d.Fa=!1))}),await ia(n,s,e)}catch(s){await Bs(s)}}function Zp(i,e,n){const s=Ee(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,d)=>{const m=d.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(d,m){const _=Ee(d);_.onlineState=m;let E=!1;_.queries.forEach((I,V)=>{for(const F of V.J_)F.ea(m)&&(E=!0)}),E&&jh(_)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function r1(i,e,n){const s=Ee(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let d=new et(fe.comparator);d=d.insert(c,Mt.newNoDocument(c,ve.min()));const m=Pe().add(c),_=new tu(ve.min(),new Map,new et(Ve),d,m);await _g(s,_),s.La=s.La.remove(c),s.Ba.delete(e),Bh(s)}else await dh(s.localStore,e,!1).then(()=>ph(s,e,n)).catch(Bs)}async function i1(i,e){const n=Ee(i),s=e.batch.batchId;try{const a=await fE(n.localStore,e);Eg(n,s,null),vg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ia(n,a)}catch(a){await Bs(a)}}async function s1(i,e,n){const s=Ee(i);try{const a=await function(d,m){const _=Ee(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return _.mutationQueue.lookupMutationBatch(E,m).next(V=>(je(V!==null),I=V.keys(),_.mutationQueue.removeMutationBatch(E,V))).next(()=>_.mutationQueue.performConsistencyCheck(E)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(E,I,m)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I)).next(()=>_.localDocuments.getDocuments(E,I))})}(s.localStore,e);Eg(s,e,n),vg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ia(s,a)}catch(a){await Bs(a)}}function vg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Eg(i,e,n){const s=Ee(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function ph(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||wg(i,s)})}function wg(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Lh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Bh(i))}function em(i,e,n){for(const s of n)s instanceof mg?(i.ka.addReference(s.key,e),o1(i,s)):s instanceof gg?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||wg(i,s.key)):ge()}function o1(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),Bh(i))}function Bh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new fe(Xe.fromString(e)),s=i.Ka.next();i.Ba.set(s,new GE(n)),i.La=i.La.insert(n,s),ug(i.remoteStore,new jr(qn(Mm(n.path)),s,"TargetPurposeLimboResolution",Ql.oe))}}async function ia(i,e,n){const s=Ee(i),a=[],c=[],d=[];s.xa.isEmpty()||(s.xa.forEach((m,_)=>{d.push(s.Ua(_,e,n).then(E=>{var I;if((E||n)&&s.isPrimaryClient){const V=E?!E.fromCache:(I=n==null?void 0:n.targetChanges.get(_.targetId))===null||I===void 0?void 0:I.current;s.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(E){a.push(E);const V=Nh.zi(_.targetId,E);c.push(V)}}))}),await Promise.all(d),s.Ma.R_(a),await async function(_,E){const I=Ee(_);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>B.forEach(E,F=>B.forEach(F.Wi,j=>I.persistence.referenceDelegate.addReference(V,F.targetId,j)).next(()=>B.forEach(F.Gi,j=>I.persistence.referenceDelegate.removeReference(V,F.targetId,j)))))}catch(V){if(!bs(V))throw V;te("LocalStore","Failed to update sequence numbers: "+V)}for(const V of E){const F=V.targetId;if(!V.fromCache){const j=I.us.get(F),G=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion(G);I.us=I.us.insert(F,J)}}}(s.localStore,c))}async function a1(i,e){const n=Ee(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await sg(n.localStore,e);n.currentUser=e,function(c,d){c.Qa.forEach(m=>{m.forEach(_=>{_.reject(new ce(W.CANCELLED,d))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ia(n,s.Ts)}}function l1(i,e){const n=Ee(i),s=n.Ba.get(e);if(s&&s.Fa)return Pe().add(s.key);{let a=Pe();const c=n.Oa.get(e);if(!c)return a;for(const d of c){const m=n.xa.get(d);a=a.unionWith(m.view.fa)}return a}}function Tg(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_g.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r1.bind(null,e),e.Ma.R_=qE.bind(null,e.eventManager),e.Ma.Wa=HE.bind(null,e.eventManager),e}function u1(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s1.bind(null,e),e}class Hl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return dE(this.persistence,new cE,e.initialUser,this.serializer)}ja(e){return new ig(Dh.ei,this.serializer)}za(e){return new vE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hl.provider={build:()=>new Hl};class c1 extends Hl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){je(this.persistence.referenceDelegate instanceof $l);const s=this.persistence.referenceDelegate.garbageCollector;return new G0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new ig(s=>$l.ei(s,n),this.serializer)}}class mh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=a1.bind(null,this.syncEngine),await zE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BE}()}createDatastore(e){const n=nu(e.databaseInfo.databaseId),s=function(c){return new IE(c)}(e.databaseInfo);return function(c,d,m,_){return new RE(c,d,m,_)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,d,m){return new PE(s,a,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Zp(this.syncEngine,n,0),function(){return Kp.p()?new Kp:new EE}())}createSyncEngine(e,n){return function(a,c,d,m,_,E,I){const V=new XE(a,c,d,m,_,E);return I&&(V.$a=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Ee(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ra(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mh.provider={build:()=>new mh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{te("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(te("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Kc(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await sg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function tm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await f1(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Gp(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Gp(e.remoteStore,a)),i._onlineComponents=e}async function f1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await Kc(i,new Hl)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Kc(i,new c1(void 0));return i._offlineComponents}async function Ig(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await tm(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await tm(i,new mh))),i._onlineComponents}function p1(i){return Ig(i).then(e=>e.syncEngine)}async function m1(i){const e=await Ig(i),n=e.eventManager;return n.onListen=YE.bind(null,e.syncEngine),n.onUnlisten=e1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JE.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t1.bind(null,e.syncEngine),n}function g1(i,e,n={}){const s=new $r;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,m,_,E){const I=new h1({next:F=>{I.eu(),d.enqueueAndForget(()=>$E(c,V)),F.fromCache&&_.source==="server"?E.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(F)},error:F=>E.reject(F)}),V=new WE(m,I,{includeMetadataChanges:!0,ua:!0});return bE(c,V)}(await m1(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(i,e,n){if(!n)throw new ce(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function y1(i,e,n,s){if(e===!0&&s===!0)throw new ce(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function rm(i){if(!fe.isDocumentKey(i))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function im(i){if(fe.isDocumentKey(i))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ge()}function Vi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(i);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class su{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Sv;switch(s.type){case"firstParty":return new Pv(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=nm.get(n);s&&(te("ComponentProvider","Removing Datastore"),nm.delete(n),s.terminate())}(this),Promise.resolve()}}function _1(i,e,n,s={}){var a;const c=(i=Vi(i,su))._getSettings(),d=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let m,_;if(typeof s.mockUserToken=="string")m=s.mockUserToken,_=Lt.MOCK_USER;else{m=s_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Lt(E)}i._authCredentials=new Av(new Sm(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ou(this.firestore,e,this._query)}}class gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class qr extends ou{constructor(e,n,s){super(e,n,Mm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new fe(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Gc(i,e,...n){if(i=Hr(i),Ag("collection","path",e),i instanceof su){const s=Xe.fromString(e,...n);return im(s),new qr(i,null,s)}{if(!(i instanceof gn||i instanceof qr))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...n));return im(s),new qr(i.firestore,null,s)}}function gh(i,e,...n){if(i=Hr(i),arguments.length===1&&(e=Am.newId()),Ag("doc","path",e),i instanceof su){const s=Xe.fromString(e,...n);return rm(s),new gn(i,null,new fe(s))}{if(!(i instanceof gn||i instanceof qr))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...n));return rm(s),new gn(i.firestore,i instanceof qr?i.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ag(this,"async_queue_retry"),this.fu=()=>{const s=Qc();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Qc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Qc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new $r;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!bs(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw fr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Uh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&ge()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class sa extends su{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new om,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new om(e),this._firestoreClient=void 0,await e}}}function v1(i,e){const n=typeof i=="object"?i:pv(),s=typeof i=="string"?i:"(default)",a=cv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=r_("firestore");c&&_1(a,...c)}return a}function Rg(i){if(i._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||E1(i),i._firestoreClient}function E1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,_,E,I){return new $v(m,_,E,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,Sg(I.experimentalLongPollingOptions),I.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new d1(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const _=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(Pt.fromBase64String(e))}catch(n){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Us(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=/^__.*__$/;class T1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ta(e,this.data,n,this.fieldTransforms)}}class Cg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Wh{constructor(e,n,s,a,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Wh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Wl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Pg(this.Mu)&&w1.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class I1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nu(e)}$u(e,n,s,a=!1){return new Wh({Mu:e,methodName:n,Ku:s,path:Ct.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kg(i){const e=i._freezeSettings(),n=nu(i._databaseId);return new I1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function S1(i,e,n,s,a,c={}){const d=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Qh("Data must be an object, but it was:",d,s);const m=xg(s,d);let _,E;if(c.merge)_=new rn(d.fieldMask),E=d.fieldTransforms;else if(c.mergeFields){const I=[];for(const V of c.mergeFields){const F=yh(e,V,n);if(!d.contains(F))throw new ce(W.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);Dg(I,F)||I.push(F)}_=new rn(I),E=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,E=d.fieldTransforms;return new T1(new Gt(m),_,E)}class lu extends $h{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lu}}function A1(i,e,n,s){const a=i.$u(1,e,n);Qh("Data must be an object, but it was:",a,s);const c=[],d=Gt.empty();Yr(s,(_,E)=>{const I=Kh(e,_,n);E=Hr(E);const V=a.Bu(I);if(E instanceof lu)c.push(I);else{const F=uu(E,V);F!=null&&(c.push(I),d.set(I,F))}});const m=new rn(c);return new Cg(d,m,a.fieldTransforms)}function R1(i,e,n,s,a,c){const d=i.$u(1,e,n),m=[yh(e,s,n)],_=[a];if(c.length%2!=0)throw new ce(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<c.length;F+=2)m.push(yh(e,c[F])),_.push(c[F+1]);const E=[],I=Gt.empty();for(let F=m.length-1;F>=0;--F)if(!Dg(E,m[F])){const j=m[F];let G=_[F];G=Hr(G);const J=d.Bu(j);if(G instanceof lu)E.push(j);else{const H=uu(G,J);H!=null&&(E.push(j),I.set(j,H))}}const V=new rn(E);return new Cg(I,V,d.fieldTransforms)}function uu(i,e){if(Vg(i=Hr(i)))return Qh("Unsupported field value:",e,i),xg(i,e);if(i instanceof $h)return function(s,a){if(!Pg(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let d=0;for(const m of s){let _=uu(m,a.ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Hr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pt.fromDate(s);return{timestampValue:bl(a.serializer,c)}}if(s instanceof pt){const c=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bl(a.serializer,c)}}if(s instanceof qh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Us)return{bytesValue:Ym(a.serializer,s._byteString)};if(s instanceof gn){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:xh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Hh)return function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw m.qu("VectorValues must only contain numeric values.");return Rh(m.serializer,_)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${bh(s)}`)}(i,e)}function xg(i,e){const n={};return Rm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(i,(s,a)=>{const c=uu(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Vg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof qh||i instanceof Us||i instanceof gn||i instanceof $h||i instanceof Hh)}function Qh(i,e,n){if(!Vg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=bh(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function yh(i,e,n){if((e=Hr(e))instanceof au)return e._internalPath;if(typeof e=="string")return Kh(i,e);throw Wl("Field path arguments must be of type string or ",i,!1,void 0,n)}const C1=new RegExp("[~\\*/\\[\\]]");function Kh(i,e,n){if(e.search(C1)>=0)throw Wl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new au(...e.split("."))._internalPath}catch{throw Wl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Wl(i,e,n,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${a}`),_+=")"),new ce(W.INVALID_ARGUMENT,m+i+_)}function Dg(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P1 extends Ng{data(){return super.data()}}function Lg(i,e){return typeof e=="string"?Kh(i,e):e instanceof au?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x1{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Yr(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(d=>it(d.doubleValue));return new Hh(c)}convertGeoPoint(e){return new qh(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gl(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Xe.fromString(e);je(rg(s));const a=new Yo(s.get(1),s.get(3)),c=new fe(s.popFirst(5));return a.isEqual(n)||fr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class D1 extends Ng{constructor(e,n,s,a,c,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Lg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Nl extends D1{data(e={}){return super.data(e)}}class N1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Cl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Nl(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(m=>{const _=new Nl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Cl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const _=new Nl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Cl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,I=-1;return m.type!==0&&(E=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),I=d.indexOf(m.doc.key)),{type:L1(m.type),doc:_,oldIndex:E,newIndex:I}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function L1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class M1 extends x1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function am(i){i=Vi(i,ou);const e=Vi(i.firestore,sa),n=Rg(e),s=new M1(e);return k1(i._query),g1(n,i._query).then(a=>new N1(e,s,i,a))}function O1(i,e,n,...s){i=Vi(i,gn);const a=Vi(i.firestore,sa),c=kg(a);let d;return d=typeof(e=Hr(e))=="string"||e instanceof au?R1(c,"updateDoc",i._key,e,n,s):A1(c,"updateDoc",i._key,e),Gh(a,[d.toMutation(i._key,Dn.exists(!0))])}function F1(i){return Gh(Vi(i.firestore,sa),[new Ch(i._key,Dn.none())])}function U1(i,e){const n=Vi(i.firestore,sa),s=gh(i),a=V1(i.converter,e);return Gh(n,[S1(kg(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then(()=>s)}function Gh(i,e){return function(s,a){const c=new $r;return s.asyncQueue.enqueueAndForget(async()=>n1(await p1(s),a,c)),c.promise}(Rg(i),e)}(function(e,n=!0){(function(a){js=a})(fv),Ol(new Qo("firestore",(s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new sa(new Rv(s.getProvider("auth-internal")),new xv(s.getProvider("app-check-internal")),function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(E.options.projectId,I)}(d,a),d);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),xs(Ip,"4.7.5",e),xs(Ip,"4.7.5","esm2017")})();var z1="firebase",j1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(z1,j1,"app");function B1(){const e=mm({apiKey:"AIzaSyDDysDetkW22iKllrT-ThOC0yxcu7N8Gd8",authDomain:"kushagrastore-b983c.firebaseapp.com",projectId:"kushagrastore-b983c",storageBucket:"kushagrastore-b983c.firebasestorage.app",messagingSenderId:"597443297424",appId:"1:597443297424:web:3a3984e0b44c8cd92f1815",measurementId:"G-YQGS3B9GMM"}),n=v1(e),[s,a]=mn.useState(""),[c,d]=mn.useState([]),[m,_]=mn.useState(!1),[E,I]=mn.useState(!1),[V,F]=mn.useState(!1),[j,G]=mn.useState(null),[J,H]=mn.useState(null),[Te,Ie]=mn.useState(null),[ye,Se]=mn.useState({name:"",prices:[{quantity:"",price:"",mrp:"",sellingPrice:""}]});mn.useEffect(()=>{(async()=>{const pe=(await am(Gc(n,"items"))).docs.map(we=>({id:we.id,...we.data()}));d(pe)})()},[]);const Ye=(se,_e)=>{if(!_e)return se;const pe=new RegExp(`(${_e}), 'gi'`);return se.replace(pe,ae.jsx("span",{style:"color: blue; border-radius: 4px; font-weight: bold;",children:"$1"}))},ke=c.filter(se=>se.name.toLowerCase().includes(s.toLowerCase())).sort((se,_e)=>se.name.localeCompare(_e.name)),k=(se=null)=>{G(se),Se(se?{name:se.name,prices:[...se.prices]}:{name:"",prices:[{quantity:"",price:"",mrp:"",sellingPrice:""}]}),_(!0)},T=()=>{_(!1),G(null)},A=async se=>{const _e=gh(n,"items",se);await F1(_e),d(pe=>pe.filter(we=>we.id!==se))},C=(se,_e=null)=>{const{name:pe,value:we}=se.target;if(console.log(pe),pe.startsWith("price")||pe.startsWith("quantity")||pe.startsWith("mrp")||pe.startsWith("sellingPrice")){const X=[...ye.prices],ue=pe.startsWith("price")?"price":pe.startsWith("quantity")?"quantity":pe.startsWith("mrp")?"mrp":"sellingPrice";X[_e][ue]=we,Se(Z=>({...Z,prices:X}))}else Se(X=>({...X,[pe]:we}))},x=()=>{Se(se=>({...se,prices:[...se.prices,{quantity:"",price:"",mrp:"",sellingPrice:""}]}))},N=se=>{Se(_e=>({..._e,prices:_e.prices.filter((pe,we)=>we!==se)}))},S=async()=>{if(j){const pe=gh(n,"items",j.id);await O1(pe,ye)}else await U1(Gc(n,"items"),ye);const _e=(await am(Gc(n,"items"))).docs.map(pe=>({id:pe.id,...pe.data()}));d(_e),T()};return ae.jsxs("div",{style:{padding:"10px",paddingTop:0,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%"},children:[ae.jsxs("div",{style:{position:"fixed",backgroundColor:"white",padding:8,width:"100vw",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[ae.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"90%"},children:[ae.jsx("button",{style:{marginBottom:"10px",padding:"10px",fontSize:"14px",width:125,height:40,borderRadius:5,border:"none",backgroundColor:"black",color:"white"},children:"Export to Excel"}),ae.jsx("h1",{style:{margin:"0 0 10px 0",fontSize:"18px"},children:"Item List"}),ae.jsx("button",{onClick:()=>k(),style:{marginBottom:"10px",padding:"0px",fontSize:"14px",width:125,height:40,borderRadius:5,border:"none",backgroundColor:"black",color:"white"},children:"Add New Item"})]}),ae.jsx("input",{type:"text",placeholder:"Search items...",value:s,onChange:se=>a(se.target.value),style:{padding:"5px",width:"85%",fontSize:"14px",height:30}})]}),ae.jsxs("table",{border:"1",cellPadding:"5",style:{width:"100%",textAlign:"center",fontSize:"12px",marginBottom:"10px",marginTop:110,border:"none"},children:[ae.jsx("thead",{children:ae.jsxs("tr",{style:{position:"sticky",top:109,backgroundColor:"#fff",zIndex:5},children:[ae.jsx("th",{children:"No"}),ae.jsx("th",{children:"Name"}),ae.jsx("th",{children:"MRP"}),ae.jsx("th",{children:"Qty"}),ae.jsx("th",{children:"BP"}),ae.jsx("th",{children:"SP"}),ae.jsx("th",{children:"Act"})]})}),ae.jsx("tbody",{children:ke.map((se,_e)=>ae.jsx(By.Fragment,{children:se.prices.map((pe,we)=>ae.jsxs("tr",{style:{backgroundColor:se.id===J?"#B8B8B8":""},children:[ae.jsx("td",{children:we===0?_e+1:""}),ae.jsx("td",{style:{fontSize:16},dangerouslySetInnerHTML:{__html:we===0?Ye(se.name,s):""}}),ae.jsx("td",{children:pe.mrp}),ae.jsx("td",{children:pe.quantity}),ae.jsx("td",{children:pe.price}),ae.jsx("td",{children:ae.jsx("span",{style:{boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)",padding:5,borderRadius:5,color:"blue",fontSize:16},children:pe.sellingPrice})}),ae.jsx("td",{children:we===0&&ae.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1},children:ae.jsx("button",{onClick:()=>{F(!0),H(se.id),Ie(se)},style:{padding:"5px",fontSize:"10px",backgroundColor:"yellow",border:"none",borderRadius:5,width:30,boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},children:"Edit"})})})]},`${se.id}-${we}`))},se.id))})]}),m&&ae.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",borderRadius:"8px",padding:"20px",boxShadow:"0 4px 10px rgba(0,0,0,0.2)",width:"90%",maxWidth:"300px",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[ae.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",color:"#333333",marginBottom:"15px",textAlign:"center"},children:j?"Edit Item":"Add Item"}),ae.jsx("input",{placeholder:"Name",type:"text",name:"name",value:ye.name,onChange:C,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px"}}),ye.prices.map((se,_e)=>ae.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"5px",flexDirection:"row"},children:[ae.jsx("input",{placeholder:"MRP",type:"number",name:`mrp-${_e}`,value:se.mrp,onChange:pe=>C(pe,_e),style:{width:"20%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px"}}),ae.jsx("input",{placeholder:"Quantity",type:"text",name:`quantity-${_e}`,value:se.quantity,onChange:pe=>C(pe,_e),style:{padding:"10px",border:"1px solid #ccc",borderRadius:"4px",width:"20%"}}),ae.jsx("input",{placeholder:"Buying Price",type:"number",name:`price-${_e}`,value:se.price,onChange:pe=>C(pe,_e),style:{padding:"10px",border:"1px solid #ccc",borderRadius:"4px",width:"20%"}}),ae.jsx("input",{placeholder:"Selling Price",type:"number",name:`sellingPrice-${_e}`,value:se.sellingPrice,onChange:pe=>C(pe,_e),style:{width:"20%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px"}}),_e!==0&&ae.jsx("button",{onClick:()=>N(_e),style:{backgroundColor:"#ff4d4f",color:"#ffffff",padding:"10px",fontSize:"14px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Remove"})]},_e)),ae.jsx("button",{onClick:x,style:{width:"100%",padding:"10px",backgroundColor:"#333333",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Add Price"}),ae.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",width:"100%",alignItems:"center"},children:[ae.jsx("button",{onClick:S,style:{width:"45%",padding:"10px",backgroundColor:"#4CAF50",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save"}),ae.jsx("button",{onClick:T,style:{width:"45%",padding:"10px",backgroundColor:"#f44336",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]})]}),V&&ae.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:ae.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)",width:"80%",maxWidth:"400px",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[ae.jsxs("div",{style:{display:E?"none":"flex",gap:"10px",justifyContent:"space-evenly",width:"100%"},children:[ae.jsx("button",{onClick:()=>{k(Te),F(!1)},style:{padding:"10px",fontSize:"14px",backgroundColor:"yellow",border:"none",borderRadius:"5px",cursor:"pointer",width:"100px"},children:"Edit"}),ae.jsx("button",{onClick:()=>{I(!0)},style:{padding:"10px",fontSize:"14px",backgroundColor:"red",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",width:"100px"},children:"Delete"}),ae.jsx("button",{onClick:()=>F(!1),style:{padding:"10px",fontSize:"14px",backgroundColor:"black",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",width:"100px"},children:"Cancel"})]}),E&&ae.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)",width:"85%",textAlign:"center"},children:[ae.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:["Do you want to delete ",ae.jsx("span",{style:{fontWeight:"bold"},children:Te.name}),"?"]}),ae.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[ae.jsx("button",{style:{padding:"10px",fontSize:"14px",backgroundColor:"green",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",width:"80px"},onClick:()=>{A(J),I(!1),F(!1)},children:"Yes"}),ae.jsx("button",{style:{padding:"10px",fontSize:"14px",backgroundColor:"red",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",width:"80px"},onClick:()=>I(!1),children:"No"})]})]})]})})]})}Qy.createRoot(document.getElementById("root")).render(ae.jsx(mn.StrictMode,{children:ae.jsx(B1,{})}));
